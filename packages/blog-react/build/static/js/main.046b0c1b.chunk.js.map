{"version":3,"sources":["login/LoginDialog.js","login/Paper/RegistPaper.js","login/Paper/LoginPaper.js","login/NotiSnackBar.js","redux/store.js","index/SpacingGrid.js","index/MediaCard.js","index/IndexContext.js","index/Beianhao.js","index/Index.js","doc/DocFab.js","doc/DocPreviewTip.js","doc/SubmitDialog.js","doc/DocForm.js","doc/Doc.js","login/UserinfoItem.js","login/PopFab.js","login/UserinfoDialog.js","login/LogoutButton.js","action/handleLogout.js","login/AvatarDialog.js","login/UserDialog.js","login/LoginButton.js","Layout/ButtonAppBar.js","Layout/MyDrawer.js","component/TimelineNode.js","component/TimelineContent.js","article/ArticleCard.js","action/formatTime.js","article/TimeFlowNode.js","article/SearchDialog.js","article/TimeFlowFab.js","article/TimeFlow.js","article/DeleteDialog.js","article/HistoryDialog.js","article/OptionButton.js","article/TOC.js","article/TOCDialog.js","article/comment/CommentDelete.js","article/comment/CommentLabel.js","article/comment/CommentsList.js","article/comment/CommentSnackbar.js","article/comment/ArticleCommentsDialog.js","action/handleGetCommentsNum.js","action/handleGetLovesNum.js","article/ArticleReadBottomBar.js","article/ArticleReadFooter.js","article/ArticleRead.js","article/ArticleGroup.js","doc/ChangeArticleDialog.js","doc/ChangeArticle.js","App.js","reportWebVitals.js","index.js","action/handleGetUserinfo.js","component/Alert.js","login/initAuthToken.js","login/setAuthToken.js","redux/useSlice.js"],"names":["useStyles","makeStyles","theme","appBar","position","title","marginLeft","spacing","flex","Transition","React","forwardRef","props","ref","direction","LoginDialog","classes","useState","type","setType","showNotice","setShowNotice","noticeType","setNoticeType","width","fullScreen","open","onClose","handleClose","TransitionComponent","className","edge","color","onClick","aria-label","variant","autoFocus","e","LoginOrRegist","setTimeout","handleShowNotice","obj","login","regist","eval","withWidth","registPaper_sm","paddingTop","paddingBottom","transform","margin","loginPaper","bottom","left","right","top","container","height","textAlign","backgroundColor","div","backdrop","zIndex","drawer","progress","marginTop","RegistPaper","useClassName","valid","value","error","username","setUsername","password","setPassword","repassword","setRepassword","phone","setPhone","state","setState","handleChangeValue","target","name","test","newFieldObj","validateUsername","newUsername","flag","length","checkUsername","validatePassword","newPassword","validateRepassword","newRepassword","validatePhone","newPhone","axios","get","then","response","data","form","autoComplete","noValidate","label","inputProps","onChange","onBlur","required","fullWidth","helperText","style","formData","i","post","Userid","Password","Phone","status","token","userToken","localStorage","setItem","setAuthToken","handleGetUserinfo","success","elevation","loginPaper_sm","redfont","LoginPaper","res","console","log","useStyle","snackbar","breakpoints","down","NotiSnackBar","alert","loginFail","severity","loginSuccess","registSuccess","autoHideDuration","store","configureStore","reducer","userSlice","GridStyles","root","flexGrow","paperContent","padding","palette","info","light","control","typography","SpacingGrid","Grid","item","xs","Paper","paper","Typography","sm","Divider","media","MediaCard","Card","CardActionArea","CardMedia","src","CardContent","gutterBottom","component","CardActions","Button","size","IndexContext","md","display","justifyContent","Beianhao","id","href","flexDirection","background","Index","minHeight","setMinHeight","useEffect","headerHeight","document","getElementById","clientHeight","footerHeight","CssBaseline","Container","fabButtonOrigin","marginBottom","marginRight","transition","fabButtonCancel","isOpen","fabButtonSubmit","main","dark","DocFab","setIsOpen","Fab","setDisplay","setDialogOpen","ClickAwayListener","onClickAway","fontSize","DocPreviewTip","anchorEl","setAnchorEl","Boolean","currentTarget","Popover","anchorOrigin","vertical","horizontal","transformOrigin","dialog","closebutton","SubmitDialog","input","TextField","newGroupname","setNewGroupname","Dialog","aria-labelledby","maxWidth","scroll","DialogTitle","borderBottom","justify","IconButton","setOpen","DialogContent","DialogContentText","select","currency","setCurrency","currencies","map","option","MenuItem","Groupid","Grouptitle","DialogActions","handleSubmit","w100","previewTitle","withRouter","setTitle","content","setContent","dialogOpen","snackbarOpen","setSnackbarOpen","setCurrencies","handleCloseSnackbar","catch","err","multiline","rows","rowsMax","Snackbar","Alert","remarkPlugins","gfm","Title","Content","toString","message","history","push","Doc","userinfo","alignItems","paddingLeft","paddingRight","cursor","userinfoContent","UserinfoItem","icon","children","fab","secondary","primary","submitfab","addicon","opacity","submitfont","PopFab","submitButton","infoRow","griditem","formContainer","fabDiv","Slide","completeDate","FullScreenDialog","isEdit","setIsEidt","setUserinfo","handleInitUserinfo","getState","handleChange","event","temp","EditButton","CancelButton","time","Date","birthday","timeStr","getFullYear","getMonth","getDate","AppBar","Toolbar","lg","FormTextField","readOnly","sex","key","in","mountOnEnter","unmountOnExit","Username","Sex","Birthday","toISOString","textfieldStyles","textfiled","InputProps","logout","LogoutButton","logoutButton","aria-describedby","initAuthToken","avator","borderRadius","avatarinput","UserinfoAvatar","userid","avatar","setAvatar","avatarFile","setAvatarFile","oldAvatar","setOldAvatar","Avatar","createElement","accept","appendChild","click","addEventListener","file","files","filereader","FileReader","onload","this","result","readAsDataURL","helptext","FormData","append","avatorContainer","textCenter","expProgress","actionPanel","slide","setSelect","secondaryDialogCache","setSecondaryDialogCache","SlideOption","avatorcontainer","expcontainer","LinearProgress","LoginButton","isLogin","setisLogin","subscribe","userinfoInRedux","DrawerDialog","menuButton","ButtonAppBar","drawerStyle","drawerPaper","link","textDecoration","text","MyDrawer","toggleDrawer","Drawer","anchor","List","to","ListItem","button","ListItemIcon","ListItemText","timeflowDotContainer","timeflowDot","border","TimelineNode","timeflowContentContainer","timeflowSeperator","timeflowContent","TimelineContent","format","formatTime","getHours","getMinutes","getSeconds","minWidth","actionbar","ArticleCard","lovesNum","contentid","commentsNum","useTheme","useMediaQuery","group","defaultProps","showDetailTime","year","month","day","TimeFlowNode","articleArray","Time","article","ListCard","Contentid","CommentsNum","LovesNum","dialogContent","SearchDialog","keyword","setKeyword","handleSearch","TimeFlowFab","gridcontainer","footer","TimeFlow","articles","setArticles","revers","setRevers","useKeyword","setUseKeyword","groupid","useParams","getArticle","indexTemp","Articleid","articleids","params","articlesTemp","articleid","Key","Count","love","reversArticle","tempArr","reverse","articleNodes","initArticleNodes_xs","dateCache","initArticleNodes","subTitle","DeleteDialog","useHistory","goBack","action","active","borderLeft","hover","HistoryDialog","_ref","contentHisory","setContentHistory","Promise","resolve","reject","Error","getHistory","toc","OptionButton","keepMounted","toc1","toc2","toc3","TOC","querySelectorAll","tocDom","tocArray","handleClick","dom","window","scrollTo","offsetTop","handleScrollTo","tag","parseInt","tagName","charAt","innerHTML","TOCDialog","CommentDelete","handleDeleteComment","overflow","stretch","fontWeight","CommentLabel","comment","showTimeDetail","avatarSrc","getAvatarSrc","domId","a","commentHelptext","CommentNotInThisContent","deleteButton","usertype","handleShowDelete","isdelete","scrollHeight","empty","CommentsList","comments","setComments","commentsCount","handleOpenSnackbar","delete","_comments","Object","create","showDivider","index","handleCloseEmpty","handleOpenEmpty","divider","propsTypes","PropTypes","array","isRequired","CommentSnackbar","snackbarState","SuccessAlert","FailAlert","ArticleCommentsDialog","setReadOnly","setSnackbarState","commentInput","setCommentInput","count","handleGetComments","dividers","handleGetCommentsNum","setter","handleGetLovesNum","buttonContainer","SimpleBottomNavigation","heartColor","TOCopen","setTOCopen","commentsOpen","setCommentsOpen","like","setLike","setCommentsNum","setLovesNum","handleGetLove","BottomNavigation","bottomNavigation","hr","ArticleReadFooter","topBar","backbutton","borderRight","ArticleRead","setArticle","buttonBase","ArticleGroup","articleGroup","setArticleGroup","ArticleGroupCard","ButtonBase","dialogTitle","ChangeArticleDialog","setIsloading","match","isloading","Backdrop","CircularProgress","App","path","ChangeArticle","from","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","dispatch","Usertype","getItem","defaults","headers","common","createSlice","initialState","reducers","payload","actions"],"mappings":"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","file":"static/js/main.046b0c1b.chunk.js","sourcesContent":["import { AppBar, Button, Dialog, IconButton, Toolbar, Typography } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport React from 'react';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport withWidth from '@material-ui/core/withWidth';\r\nimport RegistPaper from './Paper/RegistPaper';\r\nimport LoginPaper from './Paper/LoginPaper';\r\nimport NotiSnackBar from './NotiSnackBar';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    appBar: {\r\n        position: 'relative',\r\n    },\r\n    title: {\r\n        marginLeft: theme.spacing(2),\r\n        flex: 1,\r\n    },\r\n}));\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n})\r\n\r\nfunction LoginDialog(props) {\r\n    const classes = useStyles();\r\n    const [type, setType] = React.useState(\"login\");\r\n    const [showNotice,setShowNotice] = React.useState(false);\r\n    const [noticeType,setNoticeType] = React.useState(\"null\");\r\n\r\n    const handleSetType = (e) => {\r\n        setType(type === 'login' ? 'regist' : 'login');\r\n    }\r\n    const handleCloseNotice = () => {\r\n        setShowNotice(false);\r\n    }\r\n    const handleShowNotice = (type) => {\r\n        setShowNotice(true);\r\n        setTimeout(()=>setShowNotice(false),3000);\r\n        setNoticeType(type);\r\n    }\r\n\r\n    const { width } = props;\r\n\r\n    return (\r\n        <Dialog fullScreen open={props.open} onClose={props.handleClose} TransitionComponent={Transition}>\r\n            <AppBar className={classes.appBar}>\r\n                <Toolbar>\r\n                    <IconButton edge=\"start\" color='inherit' onClick={props.handleClose} aria-label=\"close\">\r\n                        <CloseIcon />\r\n                    </IconButton>\r\n                    <Typography variant=\"h6\" className={classes.title}>\r\n                        请登录您的账户\r\n                    </Typography>\r\n                    <Button autoFocus color='inherit' onClick={handleSetType}>\r\n                        点击{type === \"login\" ? \"注册\" : \"登录\"}\r\n                    </Button>\r\n                </Toolbar>\r\n            </AppBar>\r\n            {LoginOrRegist(type, width, props.handleClose,handleShowNotice)}\r\n            <NotiSnackBar open={showNotice} type={noticeType} handleClose={handleCloseNotice}/>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nconst LoginOrRegist = (type, width, handleClose,handleShowNotice) => {\r\n    const obj = {\r\n        login: <LoginPaper width={width} handleClose={handleClose} handleShowNotice={handleShowNotice}/>,\r\n        regist: <RegistPaper width={width} handleClose={handleClose} handleShowNotice={handleShowNotice} />\r\n    };\r\n    return eval(\"obj.\" + type);\r\n}\r\n\r\nexport default withWidth()(LoginDialog);","import { Button, Container, Paper, TextField, Typography, Backdrop, CircularProgress } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport React from 'react';\r\nimport axios from 'axios';\r\nimport { handleGetUserinfo } from '../../action/handleGetUserinfo';\r\nimport setAuthToken from '../setAuthToken';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    registPaper_sm: {\r\n        width: 500,\r\n        paddingTop: theme.spacing(4),\r\n        paddingBottom : theme.spacing(4),\r\n        position: 'relative',\r\n        transform : 'translateY(-50%)',\r\n        margin : \"auto\"\r\n    },\r\n    loginPaper:{\r\n        paddingTop: theme.spacing(4),\r\n        position: 'absolute',\r\n        margin: 'auto',\r\n        bottom: 0,\r\n        left: 0,\r\n        right: 0,\r\n        top: 0\r\n    },\r\n    container: {\r\n        height: \"100%\",\r\n        position: 'relative',\r\n        textAlign: \"center\",\r\n        backgroundColor: 'whitesmoke',\r\n    },\r\n    div : {\r\n        position : \"absolute\",\r\n        top : '50%',\r\n        left : 0,\r\n        right : 0,\r\n    },\r\n    backdrop: {\r\n        color: \"#fff\",\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        position: \"absolute\",\r\n    },\r\n    progress: {\r\n        marginTop: theme.spacing(1)\r\n    },\r\n}));\r\n\r\nexport default function RegistPaper(props) {\r\n    const classes = useStyles();\r\n\r\n    const useClassName = props.width === 'xs' ? classes.loginPaper : `${classes.registPaper_sm}`;\r\n\r\n    const [username,setUsername] = React.useState({valid:true,value:'',error:''});\r\n    const [password,setPassword] = React.useState({valid:true,value:'',error:''});\r\n    const [repassword,setRepassword] = React.useState({valid:true,value:'',error:''});\r\n    const [phone,setPhone] = React.useState({valid:true,value:'',error:''});\r\n    const [state,setState] = React.useState(\"input\");\r\n\r\n    const handleChangeValue = (e) => {\r\n        if(e.target.name === 'phone'){\r\n            if(!/^[0-9]{0,11}$/.test(e.target.value)) return;\r\n        }\r\n\r\n        const newFieldObj = {value:e.target.value,valid: true,error:''};\r\n        switch(e.target.name){\r\n            case 'username' : {\r\n                setUsername(newFieldObj);\r\n            }break;\r\n            case 'password' : {\r\n                setPassword(newFieldObj);\r\n            }break;\r\n            case 'repassword' : {\r\n                setRepassword(newFieldObj);\r\n            }break;\r\n            case 'phone' : {\r\n                setPhone(newFieldObj);\r\n            }\r\n        }\r\n    }\r\n\r\n    const validateUsername = () => {\r\n        const newUsername = {...username};\r\n        let flag = 0;\r\n        if(newUsername.value.length < 6){\r\n            newUsername.valid = false;\r\n            newUsername.error = '用户名不应少于6个字符';\r\n            flag = 1;\r\n        } else if(/^[\\s1-9]/.test(newUsername.value)){\r\n            newUsername.valid = false;\r\n            newUsername.error = '用户名不能以数字或空格作为开头';\r\n            flag = 1;\r\n        }\r\n        if(flag === 0){\r\n            checkUsername();\r\n        } else{\r\n            setUsername(newUsername);\r\n        }   \r\n    }\r\n\r\n    const validatePassword = () => {\r\n        const newPassword = {...password};\r\n        if(newPassword.value.length < 6){\r\n            newPassword.valid = false;\r\n            newPassword.error = '密码不应少于6个字符';\r\n        }\r\n        setPassword(newPassword);\r\n        validateRepassword();\r\n    }\r\n    const validateRepassword = () => {\r\n        const newRepassword = {...repassword,valid:true,error:''};\r\n        if(newRepassword.value !== password.value){\r\n            newRepassword.valid = false;\r\n            newRepassword.error = '两次输入的密码必须一致';\r\n        } else if(newRepassword.value.length === 0){\r\n            newRepassword.valid = false;\r\n            newRepassword.error = '密码不应少于6个字符';\r\n        }\r\n        setRepassword(newRepassword);\r\n    }\r\n    const validatePhone = () => {\r\n        const newPhone = {...phone};\r\n        if(!/^1[3|4|5|7|8][0-9]{9}$/.test(newPhone.value)){\r\n            newPhone.valid = false;\r\n            newPhone.error = \"请输入正确的手机号码\";\r\n        }\r\n        setPhone(newPhone);\r\n    }\r\n    const handleSubmit = () => {\r\n        validateUsername()\r\n        validatePassword()\r\n        validateRepassword()\r\n        validatePhone()\r\n\r\n        const formData = [username,password,phone];\r\n        for (let i in formData){\r\n            if(formData[i].value.length === 0)\r\n                return;\r\n        }\r\n\r\n        if(username.valid && password.valid && repassword.valid && phone.valid){\r\n            axios.post('/api/user/regist',{\r\n                Userid : username.value,\r\n                Password : password.value,\r\n                Phone : phone.value,\r\n            })\r\n            .then(function(response){\r\n                if(response.status === 200){\r\n                    const token = response.data.userToken;\r\n                    localStorage.setItem(\"token\", token);\r\n                    setAuthToken(token);\r\n                    handleGetUserinfo();\r\n                    setTimeout(()=>props.handleClose(),1500);\r\n                    props.handleShowNotice(\"registSuccess\");\r\n                    setState(\"ok\");\r\n                }\r\n            })\r\n            setState(\"submit\");\r\n        } \r\n    }\r\n    const checkUsername = () => {\r\n        axios.get('/api/user/checkUsername?username='+username.value)\r\n        .then(function(response){\r\n            const newUsername = {...username};\r\n            if(response.data === \"\"){\r\n                newUsername.valid = true;\r\n                newUsername.error = \"可以使用的用户名\";\r\n            } else{\r\n                newUsername.valid = false;\r\n                newUsername.error = \"该用户名已被注册\";\r\n            }\r\n            setUsername(newUsername)\r\n        })\r\n    }\r\n\r\n    const form = \r\n        <form autoComplete='off' noValidate>\r\n            <Typography variant=\"subtitle1\">\r\n                输入下列基本信息以创建一个新用户\r\n            </Typography>\r\n            <TextField label=\"用户名\" name=\"username\" error={!username.valid} value={username.value}\r\n                    inputProps={{'maxLength':'32'}} onChange={handleChangeValue} onBlur={validateUsername} \r\n                    required variant='outlined' margin=\"dense\" fullWidth helperText={username.error} />\r\n            <TextField label=\"密码\" name=\"password\" error={password.error.length>0} value={password.value}\r\n                    inputProps={{'maxLength':'48'}} onChange={handleChangeValue} onBlur={validatePassword}\r\n                    required variant='outlined' type=\"password\" margin=\"dense\" fullWidth helperText={password.error}/>\r\n            <TextField label=\"确认密码\" name=\"repassword\" error={repassword.error.length>0} value={repassword.value}\r\n                    required variant='outlined' onChange={handleChangeValue} onBlur={validateRepassword}\r\n                    type=\"password\" margin=\"dense\" fullWidth helperText={repassword.error}/>\r\n            <TextField label=\"手机号码\" name=\"phone\" error={phone.error.length>0} value={phone.value} required \r\n                    onChange={handleChangeValue} onBlur={validatePhone} \r\n                    variant='outlined' margin=\"dense\" fullWidth helperText={phone.error}/>\r\n            <Button color=\"primary\" variant=\"contained\" fullWidth style={{ marginTop: 16 }} onClick={handleSubmit}>\r\n                提交注册信息\r\n            </Button>\r\n        </form>;\r\n    const success = \r\n        <Typography variant=\"h4\">\r\n            注册成功\r\n        </Typography>\r\n    \r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            <div className={props.width !== 'xs' ? classes.div:null}>\r\n            <Paper elevation={3} className={useClassName}>\r\n                <Container style={{ width: '80%' }}>\r\n                    <Typography variant=\"h5\">\r\n                        博客用户注册\r\n                    </Typography>\r\n                    {state === 'ok' ? success : form}\r\n                </Container>\r\n                <Backdrop className={classes.backdrop} open={state === \"submit\"}>\r\n                    <div>\r\n                        <Typography variant=\"body1\" >\r\n                            正在注册...\r\n                        </Typography>\r\n                        <CircularProgress color=\"inherit\" className={classes.progress} />\r\n                    </div>\r\n                </Backdrop>\r\n            </Paper>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { Button, Container, TextField, Paper, Typography, Backdrop, CircularProgress } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport React from 'react';\r\nimport axios from 'axios';\r\nimport setAuthToken from '../setAuthToken';\r\nimport { handleGetUserinfo } from '../../action/handleGetUserinfo';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    loginPaper_sm: {\r\n        width: 500,\r\n        paddingTop: theme.spacing(4),\r\n        paddingBottom: theme.spacing(4),\r\n        position: 'relative',\r\n        transform: 'translateY(-50%)',\r\n        margin: \"auto\"\r\n    },\r\n    loginPaper: {\r\n        paddingTop: theme.spacing(4),\r\n        position: 'absolute',\r\n        margin: 'auto',\r\n        bottom: 0,\r\n        left: 0,\r\n        right: 0,\r\n        top: 0\r\n    },\r\n    container: {\r\n        height: \"100%\",\r\n        position: 'relative',\r\n        textAlign: \"center\",\r\n        backgroundColor: 'whitesmoke',\r\n    },\r\n    div: {\r\n        position: \"absolute\",\r\n        top: '50%',\r\n        left: 0,\r\n        right: 0,\r\n    },\r\n    redfont: {\r\n        color: \"red\"\r\n    },\r\n    backdrop: {\r\n        color: \"#fff\",\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        position: \"absolute\",\r\n    },\r\n    progress: {\r\n        marginTop: theme.spacing(1)\r\n    },\r\n}));\r\n\r\n\r\nexport default function LoginPaper(props) {\r\n    const classes = useStyles();\r\n\r\n    const [username, setUsername] = React.useState(\"\");\r\n    const [password, setPassword] = React.useState(\"\");\r\n    const [state, setState] = React.useState(\"input\");\r\n\r\n    const useClassName = props.width === 'xs' ? classes.loginPaper : `${classes.loginPaper_sm}`;\r\n\r\n    const handleSubmit = () => {\r\n        axios.post('/api/user/login', { Userid: username, Password: password })\r\n            .then(function (response) {\r\n                if (response.status === 200) {\r\n                    const token = response.data.userToken;\r\n                    localStorage.setItem(\"token\", token);\r\n                    setAuthToken(token);\r\n                    handleGetUserinfo();\r\n                    props.handleShowNotice(\"loginSuccess\");\r\n                    setTimeout(() => props.handleClose(), 1000);\r\n                    setState(\"ok\");\r\n                } else {\r\n                    props.handleShowNotice(\"loginFail\");\r\n                    setState(\"input\");\r\n                }\r\n            });\r\n        setState(\"submit\");\r\n    }\r\n\r\n    const handleTest = () => {\r\n        axios.get('/api/user/getuserinfo')\r\n            .then((res) => console.log(\"test jwt\"))\r\n    }\r\n\r\n    const form = \r\n    <form autoComplete='on' noValidate>\r\n        <TextField label=\"用户名\" value={username} onChange={e => setUsername(e.target.value)} variant='outlined' margin=\"dense\" fullWidth />\r\n        <TextField label=\"密码\" value={password} onChange={e => setPassword(e.target.value)} variant='outlined' type=\"password\" margin=\"dense\" fullWidth />\r\n        <Button type=\"submit\" color=\"primary\" variant=\"contained\" fullWidth onClick={handleSubmit} style={{ marginTop: 16 }}>\r\n            登录\r\n        </Button>\r\n        <Button fullWidth style={{ marginTop: 24 }} onClick={handleTest}>\r\n            忘记密码？\r\n        </Button>\r\n    </form>;\r\n\r\n    const success = \r\n    <Typography variant=\"h4\">\r\n        登录成功\r\n    </Typography>\r\n\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            <div className={props.width !== 'xs' ? classes.div : null}>\r\n                <Paper elevation={3} className={useClassName}>\r\n                    <Container style={{ width: '80%' }}>\r\n                        <Typography variant=\"h5\">\r\n                            博客用户登录\r\n                        </Typography>\r\n                        {state === 'ok' ?success : form}\r\n                    </Container>\r\n                    <Backdrop className={classes.backdrop} open={state === \"submit\"}>\r\n                        <div>\r\n                            <Typography variant=\"body1\" >\r\n                                正在登录...\r\n                            </Typography>\r\n                            <CircularProgress color=\"inherit\" className={classes.progress} />\r\n                        </div>\r\n                    </Backdrop>\r\n                </Paper>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import {Snackbar } from '@material-ui/core'; \r\nimport Alert from '../component/Alert';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyle = makeStyles((theme)=>({\r\n    snackbar : {\r\n        [theme.breakpoints.down('xs')] : {\r\n            bottom : 45\r\n        }\r\n    }\r\n}))\r\n\r\nexport default function NotiSnackBar(props){\r\n    const classes = useStyle();\r\n\r\n    const alert = {\r\n        loginFail : \r\n        <Alert onClose={props.handleClose} severity=\"error\">\r\n            登录失败，请检查您的用户名和密码！\r\n        </Alert>,\r\n        loginSuccess :\r\n        <Alert onClose={props.handleClose} severity=\"success\">\r\n            登陆成功，即将关闭登录页面...\r\n        </Alert>,\r\n        registSuccess :\r\n        <Alert onClose={props.handleClose} severity=\"success\">\r\n            注册成功，即将关闭登录页面...\r\n        </Alert>,\r\n    }\r\n\r\n    return(\r\n        <Snackbar open={props.open} className={classes.snackbar} autoHideDuration={6000} onClose={props.handleClose}>\r\n            {eval(\"alert.\"+props.type) }\r\n        </Snackbar>\r\n    )\r\n}","import {configureStore} from '@reduxjs/toolkit';\r\nimport {userSlice , setUserinfo} from './useSlice'\r\n\r\nexport const store = configureStore({\r\n    reducer : userSlice.reducer\r\n})\r\n","import Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Divider } from '@material-ui/core';\r\n\r\nconst GridStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    paddingTop: theme.spacing(1)\r\n  },\r\n  paperContent: {\r\n    padding: theme.spacing(4),\r\n    textAlign: 'center',\r\n    color: 'whitesmoke',\r\n    backgroundColor: theme.palette.info.light\r\n  },\r\n  control: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  typography: {\r\n    textAlign: 'center',\r\n    padding: theme.spacing(4),\r\n  },\r\n}));\r\n\r\nexport function SpacingGrid() {\r\n  const classes = GridStyles();\r\n\r\n  return (\r\n    <>\r\n      <Grid container className={classes.root} spacing={2}>\r\n        <Grid item xs={12}>\r\n          <Paper className={classes.paper} >\r\n            <Typography variant=\"h5\" className={classes.typography}>\r\n              有什么想了解的吗？\r\n            </Typography>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={6} sm={3}>\r\n          <Paper className={classes.paperContent}>\r\n            <Typography variant=\"h6\">\r\n              学习\r\n            </Typography>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={6} sm={3}>\r\n          <Paper className={classes.paperContent}>\r\n            <Typography variant=\"h6\">\r\n              日志\r\n            </Typography>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={6} sm={3}>\r\n          <Paper className={classes.paperContent}>\r\n            <Typography variant=\"h6\">\r\n              网站\r\n            </Typography>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={6} sm={3}>\r\n          <Paper className={classes.paperContent}>\r\n            <Typography variant=\"h6\">\r\n              其他\r\n            </Typography>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <Typography variant=\"h6\" style={{ textAlign: 'center' }}>\r\n            随便看看？继续往下滑动...\r\n          </Typography>\r\n        </Grid>\r\n      </Grid>\r\n      <Divider />\r\n    </>\r\n  )\r\n}","import {makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport { CardActionArea, CardMedia, CardContent, Typography } from '@material-ui/core';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst useStyles = makeStyles({\r\n    media: {\r\n        height: 140.\r\n    },\r\n});\r\n\r\nexport default function MediaCard() {\r\n    const classes = useStyles();\r\n\r\n    return(\r\n        <Card>\r\n            <CardActionArea>\r\n                <CardMedia className={classes.media} src={\"#\"}/>\r\n                <CardContent>\r\n                    <Typography gutterBottom variant='h5' component='h2'>\r\n                        Lizard\r\n                    </Typography>\r\n                    <Typography variant='body2' color='textSecondary' component='p'>\r\n                        Lizards are a widespread group of squamate reptiles.\r\n                    </Typography>\r\n                </CardContent>\r\n            </CardActionArea>\r\n            <CardActions>\r\n                <Button size='small' color='primary'>\r\n                    share\r\n                </Button>\r\n                <Button size='small' color='primary'>\r\n                    Learn More\r\n                </Button>\r\n            </CardActions>\r\n        </Card>\r\n    )\r\n}","import Grid from '@material-ui/core/Grid';\r\nimport MediaCard from './MediaCard';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root:{\r\n        marginTop: theme.spacing(1),\r\n    }\r\n}));\r\n\r\nexport default function IndexContext(){\r\n    const classes = useStyles();\r\n    return (\r\n        <>\r\n            <Grid container spacing={2} className={classes.root} >\r\n                <Grid item md={3} sm={6} xs={12}>\r\n                    <MediaCard />\r\n                </Grid>\r\n                <Grid item md={3} sm={6} xs={12}>\r\n                    <MediaCard />\r\n                </Grid>\r\n                <Grid item md={3} sm={6} xs={12}>\r\n                    <MediaCard />\r\n                </Grid>\r\n                <Grid item md={3} sm={6} xs={12}>\r\n                    <MediaCard />\r\n                </Grid>\r\n            </Grid>\r\n        </>\r\n    )\r\n}","import { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    margin: \"0 2rem\",\n    display: \"flex\",\n    justifyContent: \"center\",\n  }\n}))\n\nexport default function Beianhao() {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root} id=\"footer\">\n      <span>网站备案号：</span>\n      <a href=\"https://beian.miit.gov.cn/\" target=\"_blank\">鄂ICP备2021009658号-1</a>\n    </div>\n  )\n}","import { CssBaseline } from '@material-ui/core';\r\nimport { SpacingGrid } from './SpacingGrid';\r\nimport IndexContext from './IndexContext';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Beianhao from \"./Beianhao\";\r\nimport React from \"react\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    background: \"whitesmoke\",\r\n  },\r\n}));\r\n\r\nexport default function Index() {\r\n  const classes = useStyles();\r\n  const [minHeight, setMinHeight] = React.useState(\"\");\r\n  React.useEffect(()=>{\r\n    const headerHeight = document.getElementById(\"header\").clientHeight;\r\n    const footerHeight = document.getElementById(\"footer\").clientHeight;\r\n    const minHeight = `calc(100vh - ${headerHeight}px - ${footerHeight}px)`;\r\n    setMinHeight(minHeight);\r\n  },[])\r\n\r\n  return (\r\n    <CssBaseline className={classes.root}>\r\n      <Container component=\"main\" className={classes.container} style={{ minHeight: minHeight }}>\r\n        <SpacingGrid />\r\n        <IndexContext />\r\n      </Container>\r\n      <Beianhao />\r\n    </CssBaseline>\r\n  )\r\n}","import { ClickAwayListener, Fab, makeStyles } from '@material-ui/core';\r\nimport { useState } from 'react';\r\nimport AddIcon from '@material-ui/icons/Add';\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n    root: {\r\n        position: 'fixed',\r\n        display: 'flex',\r\n        bottom: 0,\r\n        left: 0,\r\n        right: 0,\r\n        flexDirection: 'row-reverse',\r\n    },\r\n    fabButtonOrigin: {\r\n        marginBottom: 30,\r\n        marginRight: 30,\r\n        transform: props => props.transform,\r\n        transition: '0.2s',\r\n        zIndex: 3\r\n    },\r\n    fabButtonCancel: {\r\n        bottom: props => props.isOpen ? 100 : 30,\r\n        right: 30,\r\n        transition: '0.2s',\r\n        zIndex: 2\r\n    },\r\n    fabButtonSubmit: {\r\n        bottom: props => props.isOpen ? 170 : 30,\r\n        right: 30,\r\n        transition: '0.2s',\r\n        zIndex: 1,\r\n        backgroundColor: theme.palette.info.main,\r\n        color: \"white\",\r\n        '&:hover': {\r\n            backgroundColor: theme.palette.info.dark\r\n        }\r\n    },\r\n    transition: {\r\n        transition: '0.2s'\r\n    }\r\n}))\r\nexport default function DocFab(props) {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    let transform = { transform: isOpen ? 'rotate(135deg)' : \"\", isOpen: isOpen };\r\n    const classes = useStyle(transform);\r\n\r\n    const handleSubmit = () => {\r\n        setIsOpen(!isOpen);\r\n        props.setDialogOpen(true);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={`mui-fixed ${classes.root}`}>\r\n                <Fab color=\"secondary\" aria-label=\"change\" onClick={(e) => { setIsOpen(!isOpen); props.setDisplay('write') }} className={classes.fabButtonCancel}>\r\n                    修改\r\n                </Fab>\r\n            </div>\r\n            <div className={`mui-fixed ${classes.root}`}>\r\n                <Fab aria-label=\"submit\" onClick={handleSubmit} className={classes.fabButtonSubmit}>\r\n                    提交\r\n                </Fab>\r\n            </div>\r\n            <div className={`mui-fixed ${classes.root}`}>\r\n                <ClickAwayListener onClickAway={()=>{setIsOpen(false)}} >\r\n                    <Fab color=\"primary\" aria-label=\"add\" onClick={(e) => { setIsOpen(!isOpen) }} className={classes.fabButtonOrigin}>\r\n                        <AddIcon className={classes.transition} fontSize={isOpen ? \"large\" : \"default\"} />\r\n                    </Fab>\r\n                </ClickAwayListener>\r\n            </div>\r\n        </>\r\n    )\r\n\r\n}","import HelpOutlineIcon from '@material-ui/icons/HelpOutline'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Popover } from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles'\r\nimport React from 'react';\r\n\r\nconst useStyles = makeStyles((theme)=>({\r\n    typography:{\r\n        padding: theme.spacing(2),\r\n    },\r\n}))\r\n\r\nexport default function DocPreviewTip() {\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n    const classes = useStyles();\r\n    const open = Boolean(anchorEl);\r\n\r\n    return (\r\n        <div>\r\n            <Typography variant='subtitle1' onClick={(e) => setAnchorEl(e.currentTarget)}>\r\n                文章预览模式\r\n                <HelpOutlineIcon fontSize='inherit' />\r\n            </Typography>\r\n            <Popover open={open} anchorEl={anchorEl} onClose={(e)=>setAnchorEl(null)}\r\n                anchorOrigin={{vertical: 'bottom',horizontal: 'left'}}\r\n                transformOrigin={{vertical:'top',horizontal:'left'}}>\r\n                    <Typography className={classes.typography}>\r\n                        预览并检查你的文章，然后使用右下角的按钮进行下一步操作\r\n                    </Typography>\r\n            </Popover>\r\n        </div>\r\n    )\r\n}","import { Grid ,Button , Typography, IconButton, Dialog,DialogActions,DialogContent,DialogContentText,MenuItem,TextField } from '@material-ui/core';\r\nimport React from 'react';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyle = makeStyles((theme)=>({\r\n    dialog : {\r\n        paddingTop : theme.spacing(2),\r\n        paddingBottom : theme.spacing(2)\r\n    },\r\n    closebutton : {\r\n        marginLeft : 'auto'\r\n    }\r\n}))\r\n\r\nexport default function SubmitDialog(props){\r\n    const {open} = props;\r\n    const classes = useStyle();\r\n\r\n    const handleClose = () => {\r\n        props.setOpen(false);\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n        props.handleSubmit();\r\n        \r\n    }\r\n\r\n    const input =\r\n        <TextField \r\n            value={props.newGroupname}\r\n            onChange={e=>props.setNewGroupname(e.target.value)}\r\n            fullWidth \r\n            variant=\"outlined\"\r\n            margin=\"dense\"\r\n            label=\"新版块名称\"/>;\r\n    return (\r\n        <Dialog \r\n            className={classes.dialog}\r\n            aria-labelledby='simple-dialog-title' \r\n            maxWidth=\"sm\"\r\n            fullWidth\r\n            margin=\"dense\"\r\n            scroll=\"body\"\r\n            open={open}>\r\n            <DialogTitle style={{textAlign:'right',borderBottom:'1px solid lightgray'}}>\r\n                <Grid container justify=\"space-between\">\r\n                    <Grid item>\r\n                            发布文章\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <IconButton size=\"small\" edge=\"start\" color='inherit' onClick={handleClose} aria-label=\"close\">\r\n                            <CloseIcon />\r\n                        </IconButton>\r\n                    </Grid>\r\n                </Grid>\r\n            </DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText style={{paddingBottom:8}}>\r\n                    <TextField\r\n                        select\r\n                        label=\"选择版块\"\r\n                        value={props.currency}\r\n                        fullWidth\r\n                        margin=\"dense\"\r\n                        variant=\"outlined\"\r\n                        onChange={e=>props.setCurrency(e.target.value)}\r\n                    >\r\n                        {props.currencies.map((option) => (\r\n                            <MenuItem key={option.Groupid} value={option.Groupid} >\r\n                                {option.Grouptitle}\r\n                            </MenuItem>\r\n                        ))}\r\n                        <MenuItem key={'new'} value={'new'} >\r\n                            新建分组\r\n                        </MenuItem>\r\n                    </TextField>\r\n                    {props.currency === 'new' ? input : null}\r\n                    <Typography variant=\"body1\">\r\n                        请选择文章将发布到的文章组。\r\n                    </Typography>\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={handleSubmit} color=\"primary\">\r\n                    确定提交\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}","import { Snackbar, Button, Container, TextField, Typography } from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport axios from 'axios';\r\nimport {useState , useEffect} from 'react';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport gfm from \"remark-gfm\";\r\nimport 'github-markdown-css';\r\nimport DocFab from './DocFab';\r\nimport DocPreviewTip from './DocPreviewTip';\r\nimport SubmitDialog from './SubmitDialog';\r\nimport Alert from '../component/Alert';\r\nimport { withRouter } from 'react-router';\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n    marginTop: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n    w100 : {\r\n        width: \"100%\",\r\n    },\r\n    container: {\r\n        backgroundColor: \"#FFF\",\r\n        paddingBottom: theme.spacing(2),\r\n        paddingTop: theme.spacing(1),\r\n        marginTop:theme.spacing(1),\r\n    },\r\n    previewTitle:{\r\n        marginTop: theme.spacing(2),\r\n        paddingBottom: theme.spacing(1)\r\n    },\r\n    snackbar : {\r\n        [theme.breakpoints.down('xs')] : {\r\n            bottom : 45\r\n        }\r\n    }\r\n}))\r\n\r\nfunction DocForm(props){\r\n    const classes = useStyle();\r\n\r\n    const [title,setTitle] = useState(\"\");\r\n    const [content,setContent] = useState(\"\");\r\n    const [display,setDisplay] = useState(\"write\");\r\n\r\n    const [dialogOpen,setDialogOpen] = useState(false);\r\n    const [snackbarOpen,setSnackbarOpen] = useState(false);\r\n\r\n    const [currencies,setCurrencies] = useState([]);\r\n    const [currency,setCurrency] = useState(\"\");\r\n    const [newGroupname,setNewGroupname] = useState(\"\")\r\n\r\n    const handleSubmit = () => {\r\n        console.log({\r\n            Title : title,\r\n            Content : content,\r\n            Groupid : currency,\r\n            Grouptitle : newGroupname,\r\n        })\r\n        axios.post('/api/article/newarticle',{\r\n                Title : title,\r\n                Content : content,\r\n                Groupid : currency.toString(),\r\n                Grouptitle : newGroupname,\r\n            })\r\n            .then((res)=>{\r\n                if(res.status === 200){\r\n                    alert(res.data.message);\r\n                    props.history.push('/article');\r\n                } else {\r\n                    alert(res.data.message);\r\n                }\r\n            })\r\n            .catch(()=>{console.log(\"提交失败\")})\r\n    }\r\n    const handlePreview = (e) => {\r\n        if(title.length === 0 || content.length === 0)\r\n            setSnackbarOpen(true)\r\n        else\r\n            setDisplay('preview');\r\n    }\r\n    const handleCloseSnackbar = () => {\r\n        setSnackbarOpen(false);\r\n    }\r\n    const handleGetCurrencies = () => {\r\n        axios.get(\"/api/article/getarticlegroup\")\r\n        .then((res)=>{\r\n            if(res.status === 200){\r\n                setCurrencies(res.data.data);\r\n            }\r\n        })\r\n        .catch((err)=>{\r\n            alert(\"服务器状态错误\");\r\n            console.log(err);\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        handleGetCurrencies();\r\n    },[]);\r\n\r\n    if(display === 'write')\r\n        return (\r\n            <div>\r\n            <Container>\r\n                <Typography variant=\"h4\" className={classes.marginTop} >\r\n                    新的文章\r\n                </Typography>\r\n            </Container>\r\n            <Container className={classes.container}>\r\n            <form autoComplete='off'>\r\n                <Grid container direction=\"row\" justify='flex-end'>\r\n                    <Grid item xs={12} className={classes.marginTop}>\r\n                        <TextField label='文章标题' value={title} onChange={(e)=>setTitle(e.target.value)} variant=\"outlined\" className={classes.w100}/>\r\n                    </Grid>\r\n                    <Grid item xs={12} className={classes.marginTop}>\r\n                        <TextField label='正文内容' value={content} onChange={(e)=>setContent(e.target.value)} multiline variant='outlined'\r\n                            className={classes.w100} rows={18} rowsMax={26} />\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={2} className={classes.marginTop}>\r\n                        <Button variant=\"contained\" size=\"large\" onClick={handlePreview} color=\"primary\" className={classes.w100}>发布</Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </form>\r\n            </Container>\r\n            <Snackbar open={snackbarOpen} className={classes.snackbar} autoHideDuration={3000} onClose={handleCloseSnackbar}>\r\n                <Alert onClose={handleCloseSnackbar} severity=\"error\">\r\n                    文章的标题和内容不能为空，请检查您的输入\r\n                </Alert>\r\n            </Snackbar>\r\n            </div>\r\n        )\r\n    if(display === 'preview')\r\n        return(\r\n            <div> \r\n                <Container className={classes.container}>\r\n                    <Typography variant=\"h4\">\r\n                        {title}\r\n                    </Typography>\r\n                    <DocPreviewTip />\r\n                    <Container className={classes.marginTop}>\r\n                        <ReactMarkdown remarkPlugins={[gfm]} className='markdown-body'>\r\n                            {content}\r\n                        </ReactMarkdown>\r\n                    </Container>\r\n                </Container>\r\n                <DocFab setDisplay={setDisplay} setDialogOpen={setDialogOpen}/>\r\n                <SubmitDialog  handleSubmit={handleSubmit} newGroupname={newGroupname} setNewGroupname={setNewGroupname} currencies={currencies} currency={currency} setCurrency={setCurrency} open={dialogOpen} setOpen={setDialogOpen}/>\r\n            </div>\r\n        )\r\n}\r\n\r\nexport default withRouter(DocForm);","import {CssBaseline } from '@material-ui/core';\r\nimport DocForm from './DocForm';\r\n\r\nexport default function Doc(){\r\n    return (\r\n      <CssBaseline>\r\n        <DocForm />\r\n      </CssBaseline>\r\n    )\r\n  }","import {Grid} from '@material-ui/core';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport {makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n    userinfo : {\r\n        display : 'flex',\r\n        alignItems : 'center',        \r\n        paddingTop : theme.spacing(1),\r\n        paddingBottom : theme.spacing(1),\r\n        paddingLeft : theme.spacing(2),\r\n        paddingRight : theme.spacing(2),\r\n        '&:hover' : {\r\n            backgroundColor : 'whitesmoke',\r\n            cursor : 'pointer'\r\n        },\r\n    },\r\n    userinfoContent : {\r\n        flexGrow : 1,\r\n        paddingLeft : theme.spacing(1),\r\n    },\r\n}))\r\n\r\nexport default function UserinfoItem(props) {\r\n    const classes = useStyle();\r\n    return (\r\n        <Grid container justify=\"center\">\r\n            <Grid item xs={12}>\r\n                <div className={classes.userinfo} onClick={props.onClick}>\r\n                        {props.icon}\r\n                    <div className={classes.userinfoContent}>\r\n                        {props.children}\r\n                    </div>\r\n                    <ChevronRightIcon />\r\n                </div>\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { ClickAwayListener, Fab } from '@material-ui/core'\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport AddIcon from '@material-ui/icons/Add';\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n    root : {\r\n        position : 'relative'\r\n    },\r\n    fab: {\r\n        backgroundColor: props=> props ? theme.palette.secondary.main : theme.palette.primary.main,\r\n        color: '#fff',\r\n        transform : props => props ? 'rotate(135deg)' : null,\r\n        transition : '0.5s',\r\n        '&:action': {\r\n            backgroundColor: props => props ? theme.palette.secondary.dark : theme.palette.primary.dark\r\n        },\r\n        '&:hover': {\r\n            backgroundColor: props=> props ? theme.palette.secondary.main : theme.palette.primary.main,\r\n        },\r\n        zIndex : 10\r\n    },\r\n    submitfab : {\r\n        backgroundColor: theme.palette.primary.main,\r\n        color: '#fff',\r\n        position : 'absolute',\r\n        right : 0,\r\n        bottom : props => props ? 72 : 0,\r\n        '&:action': {\r\n            backgroundColor: theme.palette.primary.dark,\r\n        },\r\n        '&:hover': {\r\n            backgroundColor: theme.palette.primary.main,\r\n        },\r\n        transition : '0.5s',\r\n        zIndex : 9,\r\n        '&:hover .checkicon' : {\r\n            fontSize : 32,\r\n            transition : '0.2s'\r\n        }\r\n    },\r\n    addicon : {\r\n        opacity : props=>props ? 1:0,\r\n        fontSize : props=>props ? 32 : 0,\r\n        position : 'absolute',\r\n        transition : '0.5s'\r\n    },\r\n    submitfont : {\r\n        opacity : props=>!props ? 1:0,\r\n        transition : '0.5s'\r\n    }\r\n}))\r\n\r\n\r\n\r\nexport default function PopFab(props) {\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const classes = useStyle(open);\r\n\r\n    const handleToggle = () => {\r\n        setOpen(!open);\r\n    }\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    }\r\n\r\n    const submitButton = <Fab className={classes.submitfab} onClick={props.handleSubmit}><CheckIcon className='checkicon' /></Fab>;\r\n\r\n    return (\r\n        <ClickAwayListener onClickAway={handleClose}>\r\n        <div className={classes.root}>\r\n            <Fab className={classes.fab} onClick={handleToggle}>\r\n                <AddIcon className={classes.addicon} />\r\n                <span className={classes.submitfont}>提交</span>\r\n            </Fab>\r\n            {submitButton}\r\n        </div>\r\n        </ClickAwayListener>\r\n    )\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport { Container, MenuItem, Paper, TextField } from '@material-ui/core';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport PopFab from './PopFab';\r\nimport {store} from '../redux/store';\r\nimport axios from 'axios';\r\nimport { handleGetUserinfo } from '../action/handleGetUserinfo';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(2),\r\n    flex: 1,\r\n  },\r\n  infoRow: {\r\n    backgroundColor: '#fff',\r\n    width: '100%',\r\n    height: 48\r\n  },\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n  container: {\r\n    flex : '1 1 0',\r\n    backgroundColor: 'whitesmoke'\r\n  },\r\n  griditem: {\r\n    height: '100%',\r\n    maxWidth: 450,\r\n  },\r\n  formContainer: {\r\n    paddingTop: theme.spacing(2),\r\n  },\r\n  fabDiv : {\r\n    position : 'fixed',\r\n    bottom : theme.spacing(2),\r\n    right : theme.spacing(2),\r\n  }\r\n}));\r\n\r\nconst currencies = [\r\n  {\r\n    value : 1,\r\n    label : '男'\r\n  },\r\n  {\r\n    value : 2,\r\n    label : '女',\r\n  },\r\n  {\r\n    value : -1,\r\n    label : '保密'\r\n  }\r\n  \r\n]\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"left\" ref={ref} {...props} />;\r\n});\r\n\r\nconst completeDate = (value) => {\r\n  return value < 10 ? '0'+value:value;\r\n}\r\n\r\n\r\nexport default function FullScreenDialog(props) {\r\n  const classes = useStyles();\r\n  const [isEdit,setIsEidt] = React.useState(false);\r\n  const [userinfo,setUserinfo] = React.useState({});\r\n\r\n  const handleBeginEdit = () => {\r\n    setIsEidt(true);\r\n  }\r\n  const handleCancel = () => {\r\n    setIsEidt(false);\r\n    handleInitUserinfo();\r\n  }\r\n  const handleSubmit = () => {\r\n    axios.post(\"/api/user/setuserinfo\" , {\r\n      Username : userinfo.username,\r\n      Sex : userinfo.sex,\r\n      Birthday : new Date(userinfo.birthday || '2000/01/01').toISOString()\r\n    })\r\n    .then(()=>{\r\n      setIsEidt(false);\r\n      handleGetUserinfo();\r\n    })\r\n    .catch(()=>{\r\n      console.log(\"fail\");\r\n    })\r\n    \r\n  }\r\n  const handleInitUserinfo = () => {\r\n    setUserinfo(store.getState().userinfo);\r\n  }\r\n  React.useEffect(()=>{\r\n    handleInitUserinfo()\r\n  },[])\r\n  const handleChange = (name) => (event) => {\r\n    const temp = {...userinfo};\r\n    temp[name] = event.target.value;\r\n    setUserinfo(temp);\r\n  }\r\n\r\n  const EditButton = <Button autoFocus color=\"inherit\" onClick={handleBeginEdit}>编辑</Button>;\r\n  const CancelButton = <Button autoFocus color=\"inherit\" onClick={handleCancel}>取消</Button>;\r\n\r\n  const time = new Date(userinfo.birthday);\r\n  let timeStr = null;\r\n  if(!!time){\r\n    timeStr = time.getFullYear()+'-'+completeDate((1+time.getMonth()))+'-'+completeDate(time.getDate());\r\n    console.log(timeStr)\r\n  }\r\n  \r\n  return (\r\n    <div>\r\n      <Dialog fullScreen className={classes.root} open={props.open} onClose={props.handleClose} TransitionComponent={Transition}>\r\n        <AppBar className={classes.appBar}>\r\n          <Toolbar>\r\n            <IconButton edge=\"start\" color=\"inherit\" onClick={props.handleClose} aria-label=\"close\">\r\n              <ArrowBackIosIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              详细资料\r\n            </Typography>\r\n            {isEdit ? CancelButton : EditButton}\r\n          </Toolbar>\r\n        </AppBar>\r\n\r\n        <Grid container justify='center' className={classes.container}>\r\n          <Grid item xs={12} sm={6} lg={4} className={classes.griditem}>\r\n            <Paper elevation={3} className={classes.griditem}>\r\n              <Container className={classes.formContainer}>\r\n                <FormTextField value={userinfo.username} onChange={handleChange('username')} readOnly={!isEdit} label='昵称' />\r\n                <FormTextField value={userinfo.sex || ''} onChange={handleChange('sex')} select readOnly={!isEdit} label='性别' >\r\n                  {currencies.map((option) => (\r\n                    <MenuItem key={option.key} value={option.value}>\r\n                      {option.label}\r\n                    </MenuItem>\r\n                  ))}\r\n                </FormTextField>\r\n                <FormTextField value={timeStr ||'2000-01-01'} onChange={handleChange('birthday')} type='date' readOnly={!isEdit} label='出生日期' />\r\n                { isEdit ? null :\r\n                  <Typography variant='body2'>\r\n                    Tips : 点击右上角的编辑按钮以进入编辑状态\r\n                  </Typography>\r\n                }\r\n              </Container>\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n        <Slide in={isEdit} direction='left' mountOnEnter unmountOnExit>\r\n          <div className={classes.fabDiv}>\r\n            <PopFab handleSubmit={handleSubmit}/>\r\n          </div>\r\n        </Slide>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst textfieldStyles = makeStyles((theme)=>({\r\n  textfiled : {\r\n    marginBottom :  props => props ? theme.spacing(2) : theme.spacing(3),\r\n    background : props => props ? 'whitesmoke' : '#fff',\r\n    transition : '0.5s'\r\n  }\r\n}))\r\n\r\nfunction FormTextField(props){\r\n  const classes = textfieldStyles(props.readOnly);\r\n  return(\r\n    <TextField \r\n      className={classes.textfiled} \r\n      InputProps={{readOnly : props.readOnly}}\r\n      value={props.value}\r\n      onChange={props.onChange}\r\n      variant='outlined' size='small' label={props.label} fullWidth\r\n      {...props}\r\n      >\r\n        {props.children}\r\n      </TextField>\r\n  )\r\n}","import {\r\n    Button,\r\n    Dialog,\r\n    Grid,\r\n    makeStyles,\r\n    DialogTitle,\r\n    DialogContent,\r\n    DialogContentText,\r\n    DialogActions,\r\n} from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport handleLogoutAction from '../action/handleLogout';\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n    logout: {\r\n        padding: theme.spacing(2),\r\n    },\r\n}));\r\n\r\nexport default function LogoutButton(props) {\r\n    const classes = useStyle();\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const handleLogout = () => {\r\n        setOpen(false);\r\n        handleLogoutAction();\r\n    };\r\n\r\n    return (\r\n        <Grid container justify=\"center\" className={classes.logout}>\r\n            <Grid item xs={12}>\r\n                <Button\r\n                    fullWidth\r\n                    onClick={handleClickOpen}\r\n                    color=\"secondary\"\r\n                    variant=\"contained\"\r\n                    className={classes.logoutButton}\r\n                >\r\n                    退出登录\r\n        </Button>\r\n                <Dialog\r\n                    open={open}\r\n                    onClose={handleClose}\r\n                    aria-labelledby=\"alert-dialog-title\"\r\n                    aria-describedby=\"alert-dialog-description\"\r\n                >\r\n                    <DialogTitle>确定要退出登录吗？</DialogTitle>\r\n                    <DialogContent>\r\n                        <DialogContentText>\r\n                            未登录状态下将有部分功能被禁止使用\r\n                        </DialogContentText>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={handleClose} color=\"primary\">\r\n                            保持登录\r\n                        </Button>\r\n                        <Button onClick={handleLogout} color=\"primary\" autoFocus>\r\n                            确定退出\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n}\r\n","import initAuthToken from \"../login/initAuthToken\";\r\nimport { handleGetUserinfo } from \"./handleGetUserinfo\";\r\n\r\nexport default function handleLogout() {\r\n    localStorage.setItem('token','removetoken');\r\n    initAuthToken();\r\n    handleGetUserinfo();\r\n}","import { Avatar, Button, Dialog, DialogActions, DialogContent, DialogTitle, Typography } from '@material-ui/core';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport axios from 'axios';\r\nimport React from 'react';\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n    avator: {\r\n        width: 100,\r\n        height: 100,\r\n        background: \"lightgray\",\r\n        borderRadius: 100,\r\n        marginLeft: \"auto\",\r\n        marginRight: \"auto\",\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n    container: {\r\n        textAlign: 'center'\r\n    },\r\n    avatarinput: {\r\n        display : 'none'\r\n    }\r\n}))\r\n\r\nexport default function UserinfoAvatar(props) {\r\n    const classes = useStyle();\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const [avatar, setAvatar] = React.useState(\"/api/user/getavatar/\"+props.userid);\r\n    const [avatarFile, setAvatarFile] = React.useState(null);\r\n\r\n    const [oldAvatar, setOldAvatar] = React.useState(\"/api/user/getavatar/\" + props.userid);\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    }\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    }\r\n    const handleChangeAvatar = () => {\r\n        const input = document.createElement('input');\r\n        input.type = 'file';\r\n        input.accept = 'image/*';\r\n        document.getElementById(\"input\").appendChild(input);\r\n        input.click();\r\n        input.addEventListener(\"change\", function () {\r\n            const file = input.files[0];\r\n            if (file.size >= 5 * 1000 * 1000) {\r\n                alert(\"图像大小最多为5M！\");\r\n                return;\r\n            }\r\n            const filereader = new FileReader();\r\n            filereader.onload = function () {\r\n                setAvatar(this.result);\r\n                setAvatarFile(file);\r\n            }\r\n            filereader.readAsDataURL(file);\r\n        })\r\n    }\r\n    const handleSubmit = () => {\r\n        const formData = new FormData();\r\n        formData.append('img', avatarFile);\r\n        axios.post('/api/user/setavatar', formData, {\r\n            'Content-Type':'multipart/form-data'\r\n        }).then(res => {\r\n            console.log(res);\r\n            setOpen(false);\r\n            setOldAvatar(avatar);\r\n        })\r\n    }\r\n    return (\r\n        <>\r\n            <Avatar className={classes.avator} src={oldAvatar} onClick={handleClickOpen}></Avatar>\r\n            <Dialog onClose={handleClose} maxWidth='xs' fullWidth open={open}>\r\n                <DialogTitle>更换头像</DialogTitle>\r\n                <DialogContent className={classes.container}>\r\n                    <Avatar src={ avatar} className={classes.avator} onClick={handleChangeAvatar}></Avatar>\r\n                    <Typography variant='body' className={classes.helptext}>\r\n                        点击选择头像\r\n                    </Typography><br />\r\n                    <div id='input' className={ classes.avatarinput}/>\r\n                    <Typography variant='body' className={classes.helptext}>\r\n                        *上传的文件必须为图像格式，文件大小最多为5M\r\n                    </Typography>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleSubmit} color='primary'>提交</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </>\r\n    )\r\n}","import {\r\n  AppBar,\r\n  Paper,\r\n  Dialog,\r\n  Grid,\r\n  IconButton,\r\n  LinearProgress,\r\n  Toolbar,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport React from \"react\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\nimport PersonIcon from \"@material-ui/icons/Person\";\r\nimport CreateIcon from \"@material-ui/icons/Create\";\r\nimport HistoryIcon from \"@material-ui/icons/History\";\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport UserinfoItem from \"./UserinfoItem\";\r\nimport UserinfoDialog from \"./UserinfoDialog\";\r\nimport LogoutButton from \"./LogoutButton\";\r\nimport AvatarDialog from './AvatarDialog';\r\nimport {store} from '../redux/store';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: \"relative\",\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(2),\r\n    flex: 1,\r\n  },\r\n  avatorContainer: {\r\n    marginTop: theme.spacing(2),\r\n    textAlign: \"center\",\r\n  },\r\n  textCenter: {\r\n    textAlign: \"center\",\r\n  },\r\n  expProgress: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n  },\r\n  root: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    height: \"100%\",\r\n  },\r\n  container: {\r\n    flexGrow: 1,\r\n    backgroundColor: \"whitesmoke\",\r\n  },\r\n  actionPanel: {\r\n    flexGrow: 1,\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  fullWidth: {\r\n    width: \"100%\",\r\n  },\r\n  slide: {\r\n    position: \"fixed\",\r\n    top: 0,\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  griditem: {\r\n    top: 0,\r\n    bottom : 0,\r\n    display: \"absolute\",\r\n    \r\n  },\r\n  content: {\r\n    display: \"flex\",\r\n    flexGrow: 1,\r\n    flexDirection: \"column\",\r\n    maxWidth: 450,\r\n    height: \"100%\",\r\n  },\r\n}));\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function LoginDialog(props) {\r\n  const classes = useStyles();\r\n\r\n  const [select, setSelect] = React.useState(null);\r\n  const [secondaryDialogCache, setSecondaryDialogCache] = React.useState(null);\r\n  const [userinfo, setUserinfo] = React.useState({});\r\n\r\n  const handleClick = (option) => (event) => {\r\n    setSelect(option);\r\n    setSecondaryDialogCache(option);\r\n  };\r\n  const handleClose = () => {\r\n    setSelect(null);\r\n  };\r\n  const handleInitUserinfo = () => {\r\n    setUserinfo(store.getState().userinfo);\r\n  }\r\n  React.useEffect(()=>{\r\n    handleInitUserinfo()\r\n  },[])\r\n\r\n  const SlideOption = {\r\n    userinfo: (\r\n      <UserinfoDialog open={select !== null} handleClose={handleClose} />\r\n    ),\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        fullScreen\r\n        className={classes.root}\r\n        open={props.open}\r\n        onClose={props.handleClose}\r\n        TransitionComponent={Transition}\r\n      >\r\n        <AppBar className={classes.appBar}>\r\n          <Toolbar>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              onClick={props.handleClose}\r\n              aria-label=\"close\"\r\n            >\r\n              <CloseIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              用户信息\r\n            </Typography>\r\n          </Toolbar>\r\n        </AppBar>\r\n\r\n        <Grid container justify=\"center\" className={classes.container}>\r\n          <Grid item xs={12} sm={6} lg={4} className={classes.griditem}>\r\n            <Paper elevation={3} className={`${classes.content}`}>\r\n              <Grid\r\n                container\r\n                justify=\"center\"\r\n                classes={classes.avatorcontainer}\r\n              >\r\n                <Grid item xs={12}>\r\n                  <div className={classes.avatorContainer}>\r\n                    <AvatarDialog userid={userinfo.userid}/>\r\n                    <Typography variant=\"h5\">{userinfo.username}</Typography>\r\n                  </div>\r\n                </Grid>\r\n              </Grid>\r\n              <Grid container justify=\"center\" className={classes.expcontainer}>\r\n                <Grid item container xs={12}>\r\n                  <Grid item xs={2} className={classes.textCenter}>\r\n                    Lv.1\r\n                  </Grid>\r\n                  <Grid item xs={8} className={classes.expProgress}>\r\n                    <LinearProgress variant=\"determinate\" value={0} />\r\n                  </Grid>\r\n                  <Grid item xs={2} className={classes.textCenter}>\r\n                    0/100\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n              <div className={classes.actionPanel}>\r\n                <UserinfoItem\r\n                  icon={<PersonIcon />}\r\n                  onClick={handleClick(\"userinfo\")}\r\n                >\r\n                  个人信息\r\n                </UserinfoItem>\r\n                <UserinfoItem icon={<CreateIcon />}>个性签名</UserinfoItem>\r\n                <UserinfoItem icon={<HistoryIcon />}>操作历史</UserinfoItem>\r\n                <UserinfoItem icon={<SettingsIcon />}>账户设置</UserinfoItem>\r\n              </div>\r\n              <LogoutButton />\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n        <Slide direction=\"left\" in={select !== null} mountOnEnter unmountOnExit>\r\n          <div className={classes.slide}>\r\n            {SlideOption[secondaryDialogCache]}\r\n          </div>\r\n        </Slide>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport LoginDialog from './LoginDialog';\r\nimport UserDialog from './UserDialog';\r\nimport {store} from '../redux/store';\r\n\r\nexport default function LoginButton() {\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n        setisLogin(userinfo.login)\r\n        console.log(userinfo)\r\n    }\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    }\r\n    const [userinfo, setUserinfo] = React.useState(store.getState().userinfo);\r\n    const [isLogin, setisLogin] = React.useState();\r\n    store.subscribe(() => {\r\n        const userinfoInRedux = store.getState().userinfo;\r\n        setUserinfo(userinfoInRedux);\r\n        if (!userinfoInRedux.login)\r\n            setOpen(false);\r\n    });\r\n\r\n    return (\r\n        <div>\r\n            <Button color=\"inherit\" onClick={handleClickOpen}>\r\n                { userinfo.username || \"Login\"}\r\n            </Button>\r\n            {DrawerDialog(isLogin,handleClose,open)}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst DrawerDialog = (isLogin, handleClose, open) => {\r\n    if(!isLogin){\r\n        return <LoginDialog handleClose={handleClose} open={open} />\r\n    } else {\r\n        return <UserDialog handleClose={handleClose} open={open} />;\r\n    }\r\n}","import AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport LoginButton from '../login/LoginButton';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      flexGrow: 1,\r\n    },\r\n    menuButton: {\r\n      marginRight: theme.spacing(2),\r\n    },\r\n    title: {\r\n      flexGrow: 1,\r\n    },\r\n  }));\r\n\r\nexport function ButtonAppBar(props) {\r\n    const classes = useStyles();\r\n  \r\n    return (\r\n      <div className={classes.root} id=\"header\">\r\n        <Toolbar />\r\n        <AppBar position=\"fixed\">\r\n          <Toolbar>\r\n            <IconButton onClick={props.onClick} edge=\"start\"\r\n              className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\r\n              <MenuIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              Sheason的博客\r\n            </Typography>\r\n            <LoginButton />\r\n          </Toolbar>\r\n        </AppBar>      \r\n      </div>\r\n    );\r\n  }","import { makeStyles } from '@material-ui/core/styles';\r\nimport React from 'react';\r\nimport { ButtonAppBar } from './ButtonAppBar';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nconst drawerStyle = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  drawer: {\r\n    width: 240,\r\n  },\r\n  drawerPaper: {\r\n    width: 240,\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: theme.palette.text.primary\r\n  }\r\n}));\r\n\r\nexport default function MyDrawer() {\r\n  const classes = drawerStyle();\r\n  const [state, setState] = React.useState({\r\n    left: false,\r\n  });\r\n\r\n  const toggleDrawer = (open) => (event) => {\r\n    if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\r\n      return;\r\n    }\r\n\r\n    setState({ ...state, left: open });\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ButtonAppBar onClick={toggleDrawer(true)} />\r\n      <Drawer anchor={\"left\"}\r\n        className={classes.drawer}\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n        open={state[\"left\"]}\r\n        onClose={toggleDrawer(false)}>\r\n        <div>\r\n          <List>\r\n            <Link to='/index' className={classes.link} onClick={toggleDrawer(false)}>\r\n              <ListItem button key={\"首页\"}>\r\n                <ListItemIcon><InboxIcon /></ListItemIcon>\r\n                <ListItemText primary={\"首页\"} />\r\n              </ListItem>\r\n            </Link>\r\n            <Link to='/doc' className={classes.link} onClick={toggleDrawer(false)}>\r\n              <ListItem button key={\"文档\"}>\r\n                <ListItemIcon><InboxIcon /></ListItemIcon>\r\n                <ListItemText primary={\"文档\"} />\r\n              </ListItem>\r\n            </Link>\r\n            <Link to='/article/all' className={classes.link} onClick={toggleDrawer(false)}>\r\n              <ListItem button key={\"文章\"}>\r\n                <ListItemIcon><InboxIcon /></ListItemIcon>\r\n                <ListItemText primary={\"文章\"} />\r\n              </ListItem>\r\n            </Link>\r\n            <Link to='/articlegroup' className={classes.link} onClick={toggleDrawer(false)}>\r\n              <ListItem button key={\"文章分组\"}>\r\n                <ListItemIcon><InboxIcon /></ListItemIcon>\r\n                <ListItemText primary={\"文章分组\"} />\r\n              </ListItem>\r\n            </Link>\r\n          </List>\r\n        </div>\r\n      </Drawer>\r\n    </div>\r\n  )\r\n\r\n}","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme,props) => ({\r\n    timeflowDotContainer : {\r\n        display : 'flex',\r\n        alignItems : 'center'\r\n    },\r\n    timeflowDot : {\r\n        width : 10,\r\n        height : 10,\r\n        backgroundColor : props => props.variant==='outlined' ? null : theme.palette.primary.main,\r\n        border : '1px solid #3f51b5',\r\n        borderRadius: 5,\r\n        marginRight : theme.spacing(1),\r\n    },\r\n}));\r\n\r\nexport default function TimelineNode(props){\r\n    const variant = props.variant || 'containerd';\r\n    const style = {variant : variant}\r\n    const classes = useStyles(style);\r\n    return(\r\n        <div className={classes.timeflowDotContainer}>\r\n            <div className={classes.timeflowDot} />\r\n            {props.children}\r\n        </div>  \r\n    )\r\n}","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme, props) => ({\r\n    timeflowContentContainer: {\r\n        display: 'flex',\r\n        alignItems: 'strect',\r\n    },\r\n    timeflowSeperator: {\r\n        display: 'box',\r\n        width: 2,\r\n        marginLeft: 4,\r\n        marginRight: theme.spacing(2) + 4,\r\n        backgroundColor: 'lightgray',\r\n    },\r\n    timeflowContent : {\r\n        paddingTop : theme.spacing(0.5),\r\n        paddingBottom : theme.spacing(1),\r\n        flexGrow : 1\r\n    }\r\n}));\r\n\r\nexport default function TimelineContent(props) {\r\n    const classes = useStyles(props);\r\n    return (\r\n        <div className={classes.timeflowContentContainer}>\r\n            <div className={classes.timeflowSeperator} />\r\n            <div className={classes.timeflowContent}>\r\n                {props.children}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Link } from 'react-router-dom';\r\nimport { useTheme } from '@material-ui/core/styles';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction format(item){\r\n    if (item < 10) {\r\n        item = \"0\" + item;\r\n    }\r\n    return item;\r\n}\r\n\r\nconst formatTime = (time) => {\r\n    return format(time.getHours()) + \":\" + format(time.getMinutes()) + \":\" + format(time.getSeconds());\r\n};\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        minWidth: 275,\r\n        maxWidth: 300\r\n    },\r\n    title: {\r\n        fontSize: 14,\r\n    },\r\n    actionbar: {\r\n        display: 'flex',\r\n        alignItems: 'baseline',\r\n        justifyContent: 'space-between',\r\n        paddingLeft: 10,\r\n        paddingRight: 10,\r\n        width: '100%'\r\n    },\r\n    link: {\r\n        textDecoration: 'none',\r\n    }\r\n});\r\n\r\nexport default function ArticleCard(props) {\r\n    const classes = useStyles();\r\n    const { contentid } = props;\r\n    const lovesNum = props.lovesNum;\r\n    const commentsNum = props.commentsNum;\r\n    const theme = useTheme();\r\n    const time = [];\r\n    if (!useMediaQuery(theme.breakpoints.down('xs'))) {\r\n        time.push(\r\n            <Typography key={props.contentid} variant='subtitle2' color=\"textSecondary\">\r\n                发布于 {formatTime(new Date(props.time))}\r\n            </Typography>\r\n        )\r\n    }\r\n    return (\r\n        <Card className={classes.root}>\r\n            <CardContent>\r\n                {time}\r\n                <Typography variant=\"h5\" component=\"h2\">\r\n                    {props.title}\r\n                </Typography>\r\n                <Typography color=\"textSecondary\">\r\n                    文章版块：{props.group}\r\n                </Typography>\r\n            </CardContent>\r\n            <CardActions>\r\n                <div className={classes.actionbar}>\r\n                    <Typography variant=\"body2\">\r\n                        评论：{commentsNum} 喜欢：{lovesNum}\r\n                    </Typography>\r\n                    <Link to={\"/article/read/\" + props.contentid} className={classes.link}>\r\n                        <Button size=\"small\">点击查看</Button>\r\n                    </Link>\r\n                </div>\r\n            </CardActions>\r\n        </Card>\r\n    );\r\n}\r\n\r\nArticleCard.propTypes = {\r\n    commentsNum: PropTypes.number,\r\n    lovesNum: PropTypes.number,\r\n}\r\n\r\nArticleCard.defaultProps = {\r\n    commentsNum: \"-\",\r\n    lovesNum: \"-\",\r\n}\r\n","const formatTime = (time, showDetailTime = false) => {\r\n    let year = time.getFullYear();\r\n    let month = (time.getMonth() + 1);\r\n    month = format(month);\r\n    let day = time.getDate();\r\n    day = format(day);\r\n    if(showDetailTime)\r\n        return year+\"-\"+month+\"-\"+day+\" \"+format(time.getHours())+\":\"+format(time.getMinutes())+\":\"+format(time.getSeconds());\r\n    else \r\n        return year+\"-\"+month+\"-\"+day;\r\n};\r\nfunction format(item){\r\n    if (item < 10) {\r\n        item = \"0\" + item;\r\n    }\r\n    return item;\r\n}\r\n\r\nexport default formatTime;","import TimelineContent from '../component/TimelineContent';\r\nimport ArticleCard from \"./ArticleCard\";\r\nimport TimelineNode from '../component/TimelineNode';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { useTheme } from '@material-ui/core/styles';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport formatTime from '../action/formatTime';\r\n\r\n\r\nexport default function TimeFlowNode(props) {\r\n    const theme = useTheme();\r\n    const showDetailTime = useMediaQuery(theme.breakpoints.down('xs'))\r\n    const timeStr = formatTime(new Date(props.articleArray[0].Time), showDetailTime);\r\n    return (\r\n        <Grid container>\r\n            <Grid item xs={12}>\r\n                <TimelineNode variant=\"outlined\">\r\n                    {timeStr}\r\n                </TimelineNode>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n                <TimelineContent>\r\n                    <Grid container spacing={4}>\r\n                        {props.articleArray.map((article) => (\r\n                            <ListCard article={article} key={article.Contentid} />\r\n                        ))}\r\n                    </Grid>\r\n                </TimelineContent>\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nfunction ListCard(props) {\r\n    const { article } = props;\r\n    return (\r\n        <Grid item xs={12} sm={4} lg={3}>\r\n            <ArticleCard\r\n                title={article.Title}\r\n                group={article.Grouptitle}\r\n                contentid={article.Contentid}\r\n                time={article.Time}\r\n                commentsNum={article.CommentsNum}\r\n                lovesNum={article.LovesNum}\r\n            />\r\n        </Grid>\r\n    )\r\n}","import React from 'react';\nimport { DialogActions, DialogContent } from \"@material-ui/core\";\nimport { DialogContentText } from \"@material-ui/core\";\nimport { Dialog, DialogTitle, TextField, Button } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core\";\nimport PropTypes from 'prop-types';\n\nconst useStyle = makeStyles((theme) => ({\n    dialogContent: {\n        paddingBottom: theme.spacing(2)\n    }\n}))\n\nexport default function SearchDialog(props) {\n    const classes = useStyle();\n    const [keyword, setKeyword] = React.useState(\"\");\n    const handleSearch = () => {\n        props.handleSearch(keyword);\n        props.onClose();\n    };\n\n    return (\n        <Dialog fullWidth onClose={props.onClose} open={props.open} aria-labelledby=\"search-dialog\">\n            <DialogTitle id=\"search-dialog-title\">输入关键词搜索文章</DialogTitle>\n            <DialogContent className={classes.dialogContent}>\n                <DialogContentText>\n                    目前仅支持文章标题搜索，空查询显示所有内容\n                </DialogContentText>\n                <TextField\n                    variant=\"outlined\"\n                    label=\"文章标题\"\n                    value={keyword}\n                    onChange={e => setKeyword(e.target.value)}\n                    autoFocus\n                    fullWidth\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button color=\"primary\" type=\"submit\" onClick={handleSearch}>\n                    搜索\n                </Button>\n            </DialogActions>\n        </Dialog>\n    )\n}\n\nSearchDialog.propTypes = {\n    onClose: PropTypes.func,\n    open: PropTypes.bool,\n    handleSearch: PropTypes.func,\n}\nSearchDialog.defaultProps = {\n    onClose: () => { },\n    open: false,\n    handleSearch: () => { },\n}","import Fab from '@material-ui/core/Fab';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport React from 'react';\r\nimport SearchDialog from './SearchDialog';\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n    root: {\r\n        position: 'fixed',\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        textAlign: 'right'\r\n    },\r\n    fab: {\r\n        position: 'relative',\r\n        right: 30,\r\n        bottom: 30\r\n    }\r\n}))\r\n\r\nexport default function TimeFlowFab(props) {\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const classes = useStyle()\r\n    const handleClickFab = () => {\r\n        setOpen(true);\r\n    }\r\n    const handleSearch = (keyword) => {\r\n        props.handleSearch(keyword);\r\n    }\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    }\r\n    return (\r\n        <div className={`mui-fixed ${classes.root}`}>\r\n            <Fab color=\"primary\" aria-label=\"search\" className={`mui-fiexed ${classes.fab}`} onClick={handleClickFab}>\r\n                <SearchIcon />\r\n            </Fab>\r\n            <SearchDialog onClose={handleClose} handleSearch={handleSearch} open={ open } />\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Container, Typography, Grid, Button } from \"@material-ui/core\";\r\nimport TimelineNode from '../component/TimelineNode';\r\nimport TimeFlowNode from \"./TimeFlowNode\";\r\nimport axios from \"axios\";\r\nimport { useTheme } from '@material-ui/core/styles';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport TimeFlowFab from \"./TimeFlowFab\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport formatTime from '../action/formatTime';\r\n\r\nconst useStyles = makeStyles((theme, props) => ({\r\n    gridcontainer: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n    title : {\r\n        display : 'flex',\r\n        alignItems : 'center'\r\n    },\r\n    footer: {\r\n        height : 45,\r\n    }\r\n}));\r\n\r\nconst initArticleNodes_xs = (articleNodes, articles) => {\r\n    for (let i = 0; i < articles.length; i++) {\r\n        const articleArray = [];\r\n        articleArray.push(articles[i]);\r\n        articleNodes.push(\r\n            <TimeFlowNode key={i} articleArray={articleArray} />\r\n        );\r\n    }\r\n}\r\nconst initArticleNodes = (articleNodes, articles) => {\r\n    let i = 0;\r\n    while (i < articles.length) {\r\n        const articleArray = [];\r\n        let dateCache = null;\r\n        while (i < articles.length) {\r\n            const time = new Date(articles[i].Time);\r\n            if (dateCache === null) {\r\n                dateCache = formatTime(time);\r\n                articleArray.push(articles[i++]);\r\n            } else if (formatTime(new Date(articles[i].Time)) === dateCache) {\r\n                articleArray.push(articles[i++]);\r\n            } else {\r\n                break;\r\n            }\r\n        }\r\n        articleNodes.push(\r\n            <TimeFlowNode key={i} articleArray={articleArray} />\r\n        );\r\n    }\r\n}\r\n\r\nexport default function TimeFlow(props) {\r\n    const classes = useStyles(props);\r\n    const [articles, setArticles] = React.useState([]);\r\n    const [revers, setRevers] = React.useState(false);\r\n    const [title, setTitle] = React.useState(\"分组标题加载中...\");\r\n    const [useKeyword, setUseKeyword] = React.useState(null);\r\n    const { groupid } = useParams();\r\n    \r\n    const getArticle = (groupid, keyword = \"\") => {\r\n        if (keyword !== useKeyword) {\r\n            axios.get(`/api/article/getarticles/${groupid}?keyword=${keyword}`).\r\n                then(res => {\r\n                    //将文章信息添加到state\r\n                    const result = res.data.data;\r\n                    setArticles(result);\r\n                    setUseKeyword(keyword);\r\n                });\r\n        }\r\n    }\r\n    React.useEffect(()=>{\r\n        if(articles.length === 0){\r\n            return;\r\n        }\r\n        //为state中存储的文章信息和articleid添加索引\r\n        const indexTemp = {};\r\n        for(let i=0;i<articles.length;i++){\r\n            indexTemp[articles[i].Articleid] = i;\r\n        }\r\n        //获取ID列表\r\n        const articleids = articles.map(i=>i.Articleid);\r\n        //获取评论数量\r\n        axios.get(\"/api/article/commentsnum\",{\r\n            params: {\r\n                articleids: articleids,\r\n            },\r\n        }).then(res=>{\r\n            const result = res.data.commentsNum;\r\n            const articlesTemp = [...articles];\r\n            for(let i=0;i<result.length;i++){\r\n                const articleid = result[i].Key;\r\n                articlesTemp[indexTemp[articleid]].CommentsNum = result[i].Count;\r\n            }\r\n            setArticles(articlesTemp);\r\n        });\r\n        //获取喜爱数量\r\n        axios.get(\"/api/article/articleloves\",{\r\n            params: {\r\n                articleids: articleids,\r\n            },\r\n        }).then(res=>{\r\n            const result = res.data.love;\r\n            const articlesTemp = [...articles];\r\n            for(let i=0;i<result.length;i++){\r\n                const articleid = result[i].Key;\r\n                articlesTemp[indexTemp[articleid]].LovesNum = result[i].Count;\r\n            }\r\n            setArticles(articlesTemp);\r\n        });\r\n    },[articles.length])\r\n    const getArticleGroup = () => {\r\n        axios.get(\"/api/article/getarticlegroup/\" + groupid)\r\n            .then(res => {\r\n                setTitle(res.data.data.Grouptitle || \"查看全部内容\");\r\n            }).catch(err => {\r\n                console.error(err);\r\n        })\r\n    }\r\n    React.useEffect(() => {\r\n        getArticle(groupid);\r\n        getArticleGroup();\r\n    }, []);\r\n    const reversArticle = () => {\r\n        const tempArr = articles;\r\n        tempArr.reverse();\r\n        setArticles(tempArr);\r\n        setRevers(!revers);\r\n    }\r\n\r\n    const articleNodes = [];\r\n\r\n    const theme = useTheme();\r\n    if (useMediaQuery(theme.breakpoints.down('xs'))) {\r\n        initArticleNodes_xs(articleNodes, articles);\r\n    } else {\r\n        initArticleNodes(articleNodes, articles);\r\n    }\r\n    const handleSearch = (keyword) => {\r\n        getArticle(groupid, keyword);\r\n    }\r\n    let subTitle = \"\";\r\n    if (useKeyword !== \"\") {\r\n        subTitle += \" - 搜索：\" + useKeyword;\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Grid container className={classes.gridcontainer}>\r\n                <Grid item xs={12}>\r\n                    <div className={classes.title}>\r\n                        <Typography variant=\"h4\">\r\n                            {title}{subTitle}\r\n                        </Typography>\r\n                    </div>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <Typography variant=\"button\">\r\n                        显示顺序：\r\n                    </Typography>\r\n                    <Button onClick={reversArticle}>\r\n                        {\r\n                            revers ? \"从旧到新\" : \"从新到旧\"\r\n                        }（点击切换）\r\n                    </Button>\r\n                </Grid>\r\n                {articleNodes}\r\n                <Grid item xs={12}>\r\n                    <TimelineNode>\r\n                        END\r\n                    </TimelineNode>\r\n                </Grid>\r\n            </Grid>\r\n            <TimeFlowFab\r\n                handleSearch={handleSearch}\r\n                reversArticle={reversArticle}\r\n                revers={revers} />\r\n            <div className={classes.footer} />\r\n        </Container>\r\n    );\r\n}\r\n","import { Button, Container, Dialog, DialogActions, DialogContent, DialogTitle, MenuItem } from '@material-ui/core';\r\nimport axios from 'axios';\r\nimport React from 'react';\r\nimport { useHistory,useParams } from 'react-router-dom';\r\n\r\nexport default function DeleteDialog(props) {\r\n    const [open, setOpen] = React.useState(false);\r\n    const history = useHistory();\r\n    const { contentid } = useParams();\r\n    const handleOnClick = () => {\r\n        props.onClick();\r\n        setOpen(true);\r\n    }\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    }\r\n    const handleSubmit = () => {\r\n        axios.get(\"/api/article/deletearticle/\" + contentid)\r\n            .then(res => {\r\n                if (res.status === 200) {      \r\n                    history.goBack();\r\n                }\r\n                \r\n                console.log(res.data.message)\r\n            }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n    return (\r\n        <>\r\n            <MenuItem onClick={handleOnClick}>删除文章</MenuItem>\r\n            <Dialog onClose={handleClose} open={open} maxWidth=\"sm\" fullWidth>\r\n                <DialogTitle>您正在试图删除一篇文章</DialogTitle>\r\n                <DialogContent>\r\n                    <Container>\r\n                        我们正在确认您不是意外触发了这个行为\r\n                    </Container>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button variant='contained' color='primary' onClick={handleClose }>取消</Button>\r\n                    <Button variant='contained' color='secondary' onClick={handleSubmit}>确认删除</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </>\r\n    )\r\n}","import { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport React from 'react';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport Container from '@material-ui/core/Container';\r\nimport { MenuItem } from '@material-ui/core';\r\nimport axios from 'axios';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport formatTime from '../action/formatTime';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container : {\r\n        marginTop : theme.spacing(2),\r\n    },\r\n    appBar : {\r\n        position: 'relative'\r\n    },\r\n    history: {\r\n        padding: theme.spacing(1),\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        transition : '200ms',\r\n        '&[active=true]': {\r\n            backgroundColor: theme.palette.action.active,\r\n            color: '#FFF',\r\n            borderLeft : '4px solid black'\r\n        },\r\n        '&[active=true]:hover': {\r\n            paddingTop: theme.spacing(2),\r\n            paddingBottom : theme.spacing(2)\r\n        },\r\n        '&[active=false]:hover': {\r\n            backgroundColor: theme.palette.action.hover,\r\n            cursor: 'pointer',\r\n            paddingTop: theme.spacing(2),\r\n            paddingBottom: theme.spacing(2),\r\n        }\r\n    },\r\n    link: {\r\n        color: '#000',\r\n        textDecoration : 'none',\r\n    }\r\n}))\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nconst getHistory = (contentid) => {\r\n    return new Promise((resolve, reject) => {\r\n        axios.get(\"/api/article/getarticlehistory/\" + contentid).then(res => {\r\n            if (res.status === 200) {\r\n                resolve(res.data.data)\r\n            } else {\r\n                reject(new Error(res.data))\r\n            }\r\n        })\r\n    })\r\n}\r\n\r\nconst HistoryDialog = React.forwardRef((props, _ref) => {\r\n    const classes = useStyles();\r\n    \r\n    const [open, setOpen] = React.useState(false);\r\n    const [contentHisory, setContentHistory] = React.useState([]);\r\n    const { contentid } = useParams();\r\n\r\n    const handleClick = (toc, i) => {\r\n        setOpen(true);\r\n        props.onClick();\r\n    }\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    }\r\n    React.useEffect(() => {\r\n        getHistory(contentid).then(res => {\r\n            setContentHistory(res);\r\n        })\r\n    }, [])\r\n\r\n    const content = [];\r\n    for (let item of contentHisory) {\r\n        content.push(\r\n            <Link to={`/article/read/${item.Contentid}`} key={item.Contentid} onClick={handleClose} className={classes.link}>\r\n                <div className={classes.history} active={item.Contentid == contentid ? \"true\" : \"false\"}>\r\n                    <Typography variant={'p'} >\r\n                        {item.Title}\r\n                    </Typography>\r\n                    <Typography variant={'p'} >\r\n                        {formatTime(new Date(item.Time), true)}\r\n                    </Typography>\r\n                </div>\r\n            </Link>\r\n        )\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <MenuItem onClick={handleClick}>查看历史版本</MenuItem>\r\n            <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\r\n                <AppBar className={classes.appBar}>\r\n                    <Toolbar>\r\n                        <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\r\n                            <CloseIcon />\r\n                        </IconButton>\r\n                        <Typography variant=\"h6\" >\r\n                            查看历史记录\r\n                        </Typography>\r\n                    </Toolbar>\r\n                </AppBar>\r\n                <Container className={classes.container}>\r\n                    {content}\r\n                </Container>\r\n            </Dialog>\r\n        </>\r\n    )\r\n});\r\n\r\nexport default HistoryDialog;\r\n","import { Button, Menu, MenuItem } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\r\nimport React from \"react\";\r\nimport DeleteDialog from './DeleteDialog';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport HistoryDialog from \"./HistoryDialog\";\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n    button: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        width: \"25%\",\r\n        \"& p\": {\r\n            marginTop: 0,\r\n            marginBottom: 0,\r\n        },\r\n        \"& svg\": {\r\n            marginBottom: -theme.spacing(1),\r\n        },\r\n    },\r\n    textCenter: {\r\n        textAlign: 'center',\r\n        minWidth: 240\r\n    }\r\n}));\r\nexport default function OptionButton(props) {\r\n    const classes = useStyle();\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const history = useHistory();\r\n    const { contentid } = useParams();\r\n\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const handleChange = () => {\r\n        history.push('/doc/' + contentid);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Button className={classes.button} onClick={handleClick}>\r\n                <div>\r\n                    <MoreHorizIcon />\r\n                    <p>更多</p>\r\n                </div>\r\n            </Button>\r\n            <Menu\r\n                id=\"simple-menu\"\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}\r\n            >\r\n                <HistoryDialog onClick={handleClose} />\r\n                <MenuItem onClick={handleChange}>修改文章</MenuItem>\r\n                <DeleteDialog onClick={ handleClose}/>\r\n            </Menu>\r\n        </>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    toc1: {\r\n        paddingLeft: theme.spacing(0),\r\n    },\r\n    toc2: {\r\n        paddingLeft: theme.spacing(1),\r\n    },\r\n    toc3: {\r\n        paddingLeft: theme.spacing(2),\r\n    },\r\n    root: {\r\n        '& span': {\r\n            display: 'block',\r\n            marginBottom: theme.spacing(1)\r\n        },\r\n        '& span:hover': {\r\n            background: 'whitesmoke',\r\n            cursor: 'pointer'\r\n        },\r\n    }\r\n\r\n}));\r\n\r\nconst handleGetToc = (id) => {\r\n    const div = document.getElementById(id);\r\n    const title = div.querySelectorAll(\"h1, h2, h3\");\r\n    return title;\r\n}\r\n\r\nconst handleScrollTo = (dom) => {\r\n    const headerHeight = document.getElementById(\"header\").clientHeight;\r\n    window.scrollTo(0, dom.offsetTop - headerHeight);\r\n}\r\n\r\nexport default function TOC(props) {\r\n    const classes = useStyles();\r\n\r\n    const [tocDom, setTocDom] = React.useState(handleGetToc(\"markdown-body\"));\r\n    const tocArray = [];\r\n    const handleClick = (dom) => (e) => {\r\n        if (dom === \"top\") {\r\n            window.scrollTo(0, 0);\r\n        } else {\r\n            handleScrollTo(dom);\r\n        }\r\n        props.handleClose();\r\n    }\r\n    tocArray.push(\r\n        <Typography\r\n            onClick={handleClick(\"top\")}\r\n            variant=\"button\"\r\n            key={-1}\r\n        >\r\n            回到顶部\r\n        </Typography>\r\n    );\r\n\r\n    for (let i = 0; i < tocDom.length; i++){\r\n        const tag = parseInt(tocDom[i].tagName.charAt(1));\r\n        tocArray.push(\r\n            <Typography\r\n                className={classes[\"toc\" + tag]}\r\n                onClick={handleClick(tocDom[i])}\r\n                variant=\"button\"\r\n                key={i}\r\n            >\r\n                {tocDom[i].innerHTML}\r\n            </Typography>\r\n        )\r\n    }\r\n    return (\r\n        <div className={classes.root}>\r\n            {tocArray}\r\n        </div>\r\n    )\r\n}","import { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport TOC from './TOC';\r\nimport React from 'react';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport Container from '@material-ui/core/Container';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container : {\r\n        marginTop : theme.spacing(2),\r\n    },\r\n    appBar : {\r\n        position: 'relative'\r\n    },\r\n}))\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function TOCDialog(props) {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Dialog fullScreen open={props.open} onClose={props.handleClose} TransitionComponent={Transition}>\r\n            <AppBar className={classes.appBar}>\r\n                <Toolbar>\r\n                    <IconButton edge=\"start\" color=\"inherit\" onClick={props.handleClose} aria-label=\"close\">\r\n                        <CloseIcon />\r\n                    </IconButton>\r\n                    <Typography variant=\"h6\" >\r\n                        目录\r\n                    </Typography>\r\n                </Toolbar>\r\n            </AppBar>\r\n            <Container className={classes.container}>\r\n                <TOC toc={props.toc} handleClose={props.handleClose }/>\r\n            </Container>\r\n        </Dialog>\r\n    )\r\n}","import { Button, Dialog, DialogActions, DialogContent, DialogTitle } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\n\nexport default function CommentDelete(props) {\n    const handleDelete = () => {\n        props.handleDeleteComment();\n        handleClose();\n    }\n    const handleOnClick = () => {\n        setOpen(true);\n    };\n    const handleClose = () => {\n        setOpen(false);\n    };\n    const [open, setOpen] = React.useState(false);\n    return (\n        <>\n            <Button color=\"secondary\" onClick={handleOnClick}>\n                删除评论\n            </Button>\n            <Dialog\n                open={open}\n                maxWidth=\"xs\"\n                onClose={handleClose}\n                fullWidth\n            >\n                <DialogTitle>警告！</DialogTitle>\n                <DialogContent>\n                    是否确认要删除这条评论？\n                </DialogContent>\n                <DialogActions>\n                    <Button variant=\"contained\" color=\"primary\" onClick={handleClose}>\n                        取消\n                    </Button>\n                    <Button variant=\"contained\" color=\"secondary\" onClick={handleDelete}>\n                        确认删除\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n}\n\nCommentDelete.propTypes = {\n    id: PropTypes.string.isRequired,\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Avatar, Button, Grid } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport formatTime from \"../../action/formatTime\";\nimport { useMediaQuery } from \"@material-ui/core\";\nimport { useParams } from \"react-router-dom\";\nimport CommentDelete from \"./CommentDelete\";\nimport {store} from '../../redux/store';\n\nconst useStyle = makeStyles((theme) => ({\n    root: {\n        padding: \"16px 0\",\n        transition: \"400ms\",\n        \"&[isdelete='1']\": {\n            height: 0,\n            overflow: \"hidden\",\n            padding: 0,\n        }\n    },\n    avatar: {\n        border: \"1px solid gray\",\n    },\n    stretch: {\n        flexGrow: 2,\n    },\n    time: {\n        color: 'gray',\n    },\n    userid: {\n        fontWeight: 500,\n    },\n    content: {\n        paddingLeft: 50,\n        paddingBottom: 8,\n    },\n    helptext: {\n        fontSize: \"0.75rem\",\n        color: \"gray\",\n    }\n}));\n\nconst handleShowDelete = (userinfo, comment) => {\n    if (userinfo.usertype === 9 || comment.userid === userinfo.userid) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\nconst getAvatarSrc = (comment) => {\n    let avatarSrc = null;\n    if (comment.userid !== \"未登录用户\") {\n        avatarSrc = \"/api/user/getavatar/\" + comment.userid;\n    }\n    return avatarSrc;\n}\n\nexport default function CommentLabel(props) {\n    const { comment } = props;\n    const { contentid, id } = comment;\n    const [userinfo, setUserinfo] = React.useState(store.getState().userinfo);\n    \n    const classes = useStyle();\n    const theme = useTheme();\n\n    const time = new Date(comment.time);\n    const showTimeDetail = !useMediaQuery(theme.breakpoints.down(\"xs\"));\n    const timeStr = formatTime(time, showTimeDetail);\n\n    const avatarSrc = getAvatarSrc(comment);    \n    const domId = \"comment-id-\" + id;\n    const handleDeleteComment = async () => {\n        if (await props.handleDeleteComment(id)) {\n            const div = document.getElementById(domId);\n            div.style.height = 0;\n        }\n    }\n\n    let commentHelptext = null;\n    if (parseInt(useParams().contentid) !== contentid) {\n        commentHelptext = <CommentNotInThisContent />;\n    }\n    let deleteButton = null;\n    if (handleShowDelete(userinfo, comment)) {\n        deleteButton = (\n            <CommentDelete\n                handleDeleteComment={handleDeleteComment}\n                id={id.toString()}\n            />\n        );\n    }\n    React.useEffect(() => {\n        if (comment.isdelete !== 1) {\n            const div = document.getElementById(domId);\n            div.style.height = div.scrollHeight + \"px\";\n        }\n    }, []);\n\n    return (\n        <Grid container id={domId} className={classes.root} isdelete={comment.isdelete}>\n            <Grid\n                item\n                container\n                spacing={1}\n                xs={12}\n            >\n                <Grid item>\n                    <Avatar\n                        src={avatarSrc}\n                        className={classes.avatar}\n                    />\n                </Grid>\n                <Grid item className={classes.userid}>\n                    {comment.userid}\n                </Grid>\n                <div className={classes.stretch} />\n                <Grid item className={classes.time}>\n                    {timeStr}\n                </Grid>\n            </Grid>\n            <Grid item xs={12} className={classes.content}>\n                {comment.content}\n            </Grid>\n            {commentHelptext}\n            <Grid\n                item\n                container\n                direction=\"row-reverse\"\n                xs={12}\n            >\n                <Button>\n                    回复(0)\n                </Button>\n                <Button>\n                    踩(0)\n                </Button>\n                <Button>\n                    赞(0)\n                </Button>\n                <div className={classes.stretch} />\n                {deleteButton}\n            </Grid>\n        </Grid>\n    )\n}\n\nfunction CommentNotInThisContent(props) {\n    const classes = useStyle();\n    return (\n        <Grid item xs={12} className={`${classes.content} ${classes.helptext}`}>\n            评论发布于该文章的其他版本\n        </Grid>\n    )\n}\n\nCommentLabel.propTypes = {\n    comment: PropTypes.object.isRequired,\n}","import React from \"react\";\nimport PropTypes from 'prop-types';\nimport CommentLabel from './CommentLabel';\nimport { makeStyles } from '@material-ui/styles';\nimport { List, ListItem } from '@material-ui/core';\nimport axios from \"axios\";\n\nconst useStyle = makeStyles((theme) => ({\n    empty: {\n        textAlign: 'center',\n        color: 'gray',\n    },\n    item: {\n        padding: 0,\n    },\n    root: {\n        padding: 0,\n    }\n}));\n\nexport default function CommentsList(props) {\n    const classes = useStyle();\n    const {\n        comments,\n        setComments,\n        commentsCount,\n        handleOpenSnackbar,\n    } = props;\n\n    const handleDeleteComment = async (id) => {\n        try {\n            const res = await axios.delete(\"/api/article/comments/\" + id);\n            if (res.status === 200) {\n                for (let i = 0; i < comments.length; i++) {\n                    if (comments[i].id == id) {\n                        const _comments = Object.create(comments);\n                        _comments[i].isdelete = 1;\n                        setComments(_comments);\n                        break;\n                    }\n                }\n                handleOpenSnackbar(\"success_delete\");\n                return true;\n            }\n        } catch {\n            handleOpenSnackbar(\"fail_delete\");\n            return false;\n        }\n    }\n    const showDivider = (comment, index) => {\n        if (index === comments.length || comment.isdelete === 1) {\n            return false;\n        } else {\n            let result = false;\n            for (let i = index + 1; i < comments.length; i++) {\n                if (comments[i].isdelete === 0) {\n                    result = true;\n                    break;\n                }\n            }\n            return result;\n        }\n    }\n    const handleCloseEmpty = () => {\n        const empty = document.getElementById(\"comments-is-empty\");\n        empty.style.height = 0;\n        empty.style.padding = 0;\n        empty.style.overflow = \"hidden\";\n        empty.style.transition = \"400ms\";\n    }\n    const handleOpenEmpty = () => {\n        const empty = document.getElementById(\"comments-is-empty\");\n        empty.style.height = empty.scrollHeight + \"px\";\n        empty.style.padding = \"16px 0\";\n    }\n\n    React.useEffect(() => {\n        if (commentsCount() === 0) {\n            setTimeout(handleOpenEmpty,400);\n        } else {\n            handleCloseEmpty();\n        }\n    }, [comments]);\n    React.useEffect(() => {\n        handleCloseEmpty();\n     }, []);\n\n    return (\n        <List className={classes.root}>\n            <div className={classes.empty} id=\"comments-is-empty\">\n                暂时没有评论...\n            </div>\n            {comments.map((comment, index) => (\n                <ListItem\n                    key={index}\n                    className={classes.item}\n                    divider={showDivider(comment, index)}\n                >\n                    <CommentLabel\n                        comment={comment}\n                        handleDeleteComment={handleDeleteComment}\n                    />\n                </ListItem>\n            ))}\n        </List>\n    )\n\n}\n\nCommentsList.propsTypes = {\n    comments: PropTypes.array.isRequired,\n}","import Proptypes from \"prop-types\";\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport React from 'react';\n\nexport default function CommentSnackbar(props) {\n    const { snackbarState, handleClose } = props;\n    const { variant, open } = snackbarState;\n\n    let alert;\n\n    if (variant === \"success_comment\") {\n        alert = <SuccessAlert handleClose={handleClose}>添加评论成功</SuccessAlert>\n    } else if (variant === \"fail_comment\") {\n        alert = <FailAlert handleClose={handleClose}>添加评论失败</FailAlert>\n    } else if (variant === \"success_delete\") {\n        alert = <SuccessAlert handleClose={handleClose}>删除评论成功</SuccessAlert>\n    } else if (variant === \"fail_delete\") {\n        alert = <FailAlert handleClose={handleClose}>删除评论失败</FailAlert>\n    }\n    return (\n        <Snackbar open={open} autoHideDuration={3000} onClose={handleClose}>\n            {alert}\n        </Snackbar>\n    )\n}\n\nfunction Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nfunction SuccessAlert(props) {\n    const { handleClose } = props;\n    return (\n        <Alert onClose={handleClose} severity=\"success\">\n            {props.children}\n        </Alert>\n    )\n}\n\nfunction FailAlert(props) {\n    const { handleClose } = props;\n    return (\n        <Alert onClose={handleClose} severity=\"error\">\n            {props.children}\n        </Alert>\n    )\n}\n\nCommentSnackbar.propTypes = {\n    variant: Proptypes.oneOf([\n        \"success_comment\",\n        \"fail_comment\",\n        \"success_delete\",\n        \"fail_delete\",\n    ]),\n    handleClose: Proptypes.func.isRequired,\n    open: Proptypes.bool.isRequired,\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { TextField } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport CommentsList from './CommentsList';\nimport axios from 'axios';\nimport { useParams } from 'react-router-dom';\nimport PropTypes from \"prop-types\";\nimport CommentSnackbar from './CommentSnackbar';\n\nconst useStyle = makeStyles((theme) => ({\n    input: {\n        '& textarea': {\n            '&::-webkit-scrollbar': {\n                display: 'none'\n            }\n        }\n    },\n    content: {\n        padding: \"0 16px\",\n    }\n}))\n\nexport default function ArticleCommentsDialog(props) {\n    const classes = useStyle();\n    const [scroll, setScroll] = React.useState('paper');\n    const [comments, setComments] = React.useState([]);\n    const [readOnly, setReadOnly] = React.useState(false);\n    const [snackbarState, setSnackbarState] = React.useState({\n        open: false,\n        variant: \"success_comment\",\n    });\n    const [commentInput, setCommentInput] = React.useState(\"\");\n    const { contentid } = useParams();\n\n    const commentsCount = () => {\n        let count = 0;\n        for (let i = 0; i < comments.length; i++) {\n            if (comments[i].isdelete === 0) {\n                count++;\n            }\n        }\n        return count;\n    }\n    const handleOnInputChange = (e) => {\n        setCommentInput(e.target.value);\n    }\n    const handleSubmit = async () => {\n        const data = {\n            content: commentInput,\n        }\n        setReadOnly(true);\n        const res = await axios.post(\"/api/article/comments/\" + contentid, data);\n        if (res.status === 200) {\n            handleOpenSnackbar(\"success_comment\");\n            handleGetComments();\n            setReadOnly(false);\n            setCommentInput(\"\");\n        } else {\n            handleOpenSnackbar(\"fail_comment\");\n            setReadOnly(false);\n        }\n    }\n    const handleGetComments = async () => {\n        const res = await axios.get(\"/api/article/comments/\" + contentid);\n        if (res.status === 200) {\n            setComments(res.data.comments);\n        }\n    }\n    const handleCloseSnackbar = () => {\n        const snackbar = Object.create(snackbarState);\n        snackbar.open = false;\n        setSnackbarState(snackbar);\n    }\n    const handleOpenSnackbar = (variant) => {\n        const snackbar = Object.create(snackbarState);\n        snackbar.open = true;\n        snackbar.variant = variant;\n        setSnackbarState(snackbar);\n    }\n    React.useEffect(() => {\n        handleGetComments();\n    }, []);\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.handleClose}\n            scroll={scroll}\n            fullWidth\n        >\n            <DialogTitle id=\"scroll-dialog-title\">评论（共{commentsCount()}条）</DialogTitle>\n            <DialogContent\n                className={classes.content}\n                dividers={scroll === 'paper'}\n            >\n                <CommentsList\n                    comments={comments}\n                    setComments={setComments}\n                    commentsCount={commentsCount}\n                    handleOpenSnackbar={handleOpenSnackbar}\n                />\n            </DialogContent>\n            <DialogActions>\n                <TextField\n                    className={classes.input}\n                    label=\"评论\"\n                    onChange={handleOnInputChange}\n                    variant=\"outlined\"\n                    fullWidth\n                    multiline\n                    value={commentInput}\n                    InputProps={{\n                        readOnly: readOnly,\n                    }}\n                    rowsMax={4}\n                />\n                <Button onClick={handleSubmit} color=\"primary\">\n                    提交\n                </Button>\n            </DialogActions>\n            <CommentSnackbar\n                snackbarState={snackbarState}\n                handleClose={handleCloseSnackbar}\n            />\n        </Dialog>\n    )\n}\n\nArticleCommentsDialog.propTypes = {\n    open: PropTypes.bool.isRequired,\n}\n","import axios from \"axios\";\nconst handleGetCommentsNum = async (contentid, setter) => {\n    const res = await axios.get(\"/api/article/commentsnum\",{\n        params: {\n            contentid: contentid\n        }\n    });\n    const array = res.data.commentsNum;\n    if (array.length === 0) {\n        setter(0);\n    } else {\n        setter(array[0].Count);\n    }\n}\n\nexport default handleGetCommentsNum;\n","import axios from \"axios\";\nconst handleGetLovesNum = async (contentid, setter) => {\n    const res = await axios.get(\"/api/article/articleloves\",{\n        params: {\n            contentid: contentid,\n        }\n    });\n    const array = res.data.love;\n    if(array.length === 0) {\n        setter(0);\n    } else {\n        setter(array[0].Count);\n    }\n}\n\nexport default handleGetLovesNum;\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\r\nimport OptionButton from './OptionButton';\r\nimport CommentIcon from '@material-ui/icons/Comment';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\r\nimport { Button, Container } from '@material-ui/core';\r\nimport TOCDialog from './TOCDialog';\r\nimport axios from 'axios';\r\nimport { useParams } from 'react-router-dom';\r\nimport ArticleCommentsDialog from './comment/ArticleCommentsDialog';\r\nimport handleGetCommentsNum from \"../action/handleGetCommentsNum\";\r\nimport handleGetLovesNum from \"../action/handleGetLovesNum\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        position: 'fixed',\r\n        bottom: 0,\r\n        left: 0,\r\n        right: 0,\r\n        paddingBottom: 'calc(env(safe-area-inset-bottom) - 15px)',\r\n    },\r\n    appBar: {\r\n        position: 'relative'\r\n    },\r\n    container: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n    button: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '25%',\r\n        '& p': {\r\n            marginTop: 0,\r\n            marginBottom: 0,\r\n        },\r\n        '& svg': {\r\n            marginBottom: -theme.spacing(1)\r\n        },\r\n    },\r\n    buttonContainer: {\r\n        display: 'flex'\r\n    },\r\n}));\r\n\r\nexport default function SimpleBottomNavigation(props) {\r\n    const classes = useStyles();\r\n    const [TOCopen, setTOCopen] = React.useState(false);\r\n    const [commentsOpen, setCommentsOpen] = React.useState(false);\r\n    const [like, setLike] = React.useState(false);\r\n    const { contentid } = useParams();\r\n    const [commentsNum, setCommentsNum] = React.useState(\"\");\r\n    const [lovesNum, setLovesNum] = React.useState(\"\");\r\n\r\n    const handleClose = () => {\r\n        setTOCopen(false);\r\n    }\r\n    const handleOpenTOC = () => {\r\n        setTOCopen(true);\r\n    }\r\n    const handleOpenComments = () => {\r\n        setCommentsOpen(true);\r\n    }\r\n    const handleCloseComments = () => {\r\n        setCommentsOpen(false);\r\n    };\r\n    const handleToggleLove = () => {\r\n        setLike(null);\r\n        if (like !== null) {\r\n            axios.post(\"/api/article/lovearticle/\" + contentid)\r\n                .then(res => {\r\n                    handleGetLove();\r\n                }).catch(err => {\r\n                    console.log(err);\r\n                });\r\n        }\r\n    }\r\n    const handleGetLove = () => {\r\n        axios.get(\"/api/article/lovearticle/\" + contentid)\r\n            .then(res => {\r\n                if (res.status === 200) {\r\n                    setLike(res.data.love !== 0);\r\n                } else {\r\n                    setLike(0);\r\n                }\r\n            }).catch(\r\n                err => {\r\n                    console.error(err);\r\n                    setLike(0);\r\n                }\r\n            )\r\n    }\r\n    let heartColor;\r\n    if (like === null) {\r\n        heartColor = 'gray';\r\n    } else if (like) {\r\n        heartColor = 'red';\r\n    } else {\r\n        heartColor = 'black';\r\n    }\r\n    React.useEffect(() => {\r\n        handleGetLove();\r\n        handleGetCommentsNum(contentid, setCommentsNum);\r\n        handleGetLovesNum(contentid, setLovesNum);\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <BottomNavigation\r\n                className={`${classes.root} mui-fixed`}\r\n            >\r\n                <TOCDialog open={TOCopen} handleClose={handleClose} />\r\n                <ArticleCommentsDialog open={commentsOpen} handleClose={handleCloseComments }/>\r\n                <Container className={classes.buttonContainer}>\r\n                    <Button onClick={handleOpenTOC} className={classes.button}>\r\n                        <div>\r\n                            <LocationOnIcon />\r\n                            <p>目录</p>\r\n                        </div>\r\n                    </Button>\r\n                    <Button className={classes.button} onClick={handleToggleLove}>\r\n                        <div>\r\n                            <FavoriteIcon style={{ color: heartColor }} />\r\n                            <p>喜欢 {lovesNum}</p>\r\n                        </div>\r\n                    </Button>\r\n                    <Button className={classes.button} onClick={handleOpenComments}>\r\n                        <div>\r\n                            <CommentIcon />\r\n                            <p>评论 {commentsNum}</p>\r\n                        </div>\r\n                    </Button>\r\n                    <OptionButton />\r\n                </Container>\r\n            </BottomNavigation>\r\n            <BottomNavigation className={classes.bottomNavigation} />\r\n        </>\r\n    );\r\n}","import {Grid , Button, Divider} from '@material-ui/core';\r\nimport {makeStyles} from \"@material-ui/core/styles\"\r\n\r\nconst useStyles = makeStyles((theme)=>({\r\n    footer : {\r\n        backgroundColor : theme.palette.action.hover,\r\n        padding : theme.spacing(2),\r\n        marginTop : 150,\r\n        textAlign : 'center',\r\n        display : 'flex',\r\n        flexDirection : 'column',\r\n        justifyContent : 'space-between'\r\n    },\r\n    hr : {\r\n        backgroundColor : 'lightgray',\r\n        height : 1,\r\n        border : 'none'\r\n    }\r\n\r\n}))\r\n\r\nexport default function ArticleReadFooter(props){\r\n    const classes = useStyles();\r\n\r\n    return(\r\n        <div className={classes.footer}>\r\n                <Grid container>\r\n                    <Grid item xs={4}>\r\n                        <Button fullWidth>\r\n                            上一篇\r\n                        </Button>\r\n                    </Grid>\r\n                    <Grid item xs={4}>\r\n                        <Button fullWidth>\r\n                            文章组\r\n                        </Button>\r\n                    </Grid>\r\n                    <Grid item xs={4}>\r\n                        <Button fullWidth>\r\n                            下一篇\r\n                        </Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </div>\r\n    )\r\n}","import { Container, Typography } from \"@material-ui/core\";\r\nimport ArticleReadBottomBar from './ArticleReadBottomBar';\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport axios from \"axios\";\r\nimport React from \"react\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport gfm from \"remark-gfm\";\r\nimport 'github-markdown-css';\r\nimport ArticleReadFooter from \"./ArticleReadFooter\";\r\nimport formatTime from \"../action/formatTime\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    topBar: {\r\n        paddingTop: theme.spacing(1),\r\n        paddingBottom: theme.spacing(1),\r\n        borderBottom: '1px solid lightgray',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n    },\r\n    backbutton: {\r\n        borderRight: '1px solid lightgray',\r\n        marginRight: theme.spacing(2)\r\n    },\r\n    title: {\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1)\r\n    },\r\n    time: {\r\n        color: theme.palette.text.secondary\r\n    },\r\n}))\r\n\r\nexport default function ArticleRead(props) {\r\n    const classes = useStyles();\r\n\r\n    const [article, setArticle] = React.useState({});\r\n    const { contentid } = useParams();\r\n\r\n    const handleGetArticle = () => {\r\n        axios.get(\"/api/article/getarticle/\" + contentid)\r\n            .then(res => {\r\n                setArticle(res.data.data);\r\n            })\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        handleGetArticle();\r\n    }, [contentid]);\r\n\r\n    const timeStr = formatTime(new Date(article.Time), true);\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Container className={classes.container}>\r\n                <Typography variant='h4' className={classes.title}>\r\n                    {article.Title || \"文章标题\"}\r\n                </Typography>\r\n                <Typography variant='subtitle1' className={classes.time}>\r\n                    更新时间：{timeStr}\r\n                </Typography>\r\n                <div id=\"markdown-body\">\r\n                    <ReactMarkdown remarkPlugins={[gfm]} className='markdown-body'>\r\n                        {article.Content || \"正文加载中...\"}\r\n                    </ReactMarkdown>\r\n                </div>\r\n                <ArticleReadFooter />\r\n                <ArticleReadBottomBar />\r\n            </Container>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport { Typography,Container,Grid,Card,ButtonBase } from '@material-ui/core';\nimport axios from 'axios';\nimport { Link } from '@material-ui/icons';\nimport { useHistory } from 'react-router-dom';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        background: 'whitesmoke',\n        paddingBottom: theme.spacing(2),\n        height : '100%'\n    },\n    title: {\n        paddingTop: theme.spacing(1),\n        paddingBottom: theme.spacing(1)\n    },\n    paper: {\n        paddingTop: theme.spacing(1),\n        paddingBottom: theme.spacing(1),\n        width:'100%',\n        textAlign: 'center',\n        '&:hover': {\n            background: 'whitesmoke',\n            cursor : 'pointer'\n        }\n    },\n    buttonBase: {\n        width: '100%'\n    }\n}))\n\nexport default function ArticleGroup(props) {\n    const classes = useStyles();\n    const [articleGroup, setArticleGroup] = React.useState([]);\n    const history = useHistory();\n\n    const handleGetArticleGroup = () => {\n        axios.get(\"/api/article/getarticlegroup\")\n            .then(res => {\n                if (res.status === 200) {\n                    setArticleGroup(res.data.data);\n            }\n        })\n    }\n    React.useEffect(() => {\n        handleGetArticleGroup()\n    }, []);\n    const handleOnClick = (groupid) => (event) => {\n        history.push('/article/'+groupid)\n    }\n\n    const content = [];\n    for (let i = 0; i < articleGroup.length;i++) {\n        content.push(<ArticleGroupCard articleGroup={articleGroup[i]}/>);\n    }\n\n    return (\n        <Container className={classes.root}>\n            <Typography variant='h4' className={classes.title}>\n                选择文章分组\n            </Typography>\n            <Grid container spacing={2}>\n                <Grid item xs={12}>\n                    <ButtonBase className={classes.buttonBase} onClick={handleOnClick('all')}>\n                        <Card elevation={2} className={classes.paper}>\n                            <Typography variant='h5' >\n                                查看全部文章\n                            </Typography>\n                            <Typography variant='body' >\n                                文章： 喜欢：\n                            </Typography>\n                        </Card>\n                    </ButtonBase>\n                </Grid>\n                {content}\n            </Grid>\n        </Container>\n    )\n}\n\nfunction ArticleGroupCard(props) {\n    const classes = useStyles();\n    const history = useHistory();\n    const handleOnClick = (groupid) => (event) => {\n        history.push('/article/'+groupid)\n    }\n    return (\n        <Grid item xs={12} sm={4} md={3}>\n        <ButtonBase className={classes.buttonBase} onClick={handleOnClick(props.articleGroup.Groupid)}>\n            <Card elevation={2} className={classes.paper}>\n                <Typography variant='h5' >\n                    {props.articleGroup.Grouptitle || \"GroupTitle\"}\n                </Typography>\n                <Typography variant='body' >\n                    文章： 喜欢：\n                </Typography>\n            </Card>\n        </ButtonBase>\n    </Grid>\n    )\n}","import { Grid ,Button , Typography, IconButton, Dialog,DialogActions,DialogContent,DialogContentText,MenuItem,TextField } from '@material-ui/core';\r\nimport React from 'react';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyle = makeStyles((theme)=>({\r\n    dialog : {\r\n        paddingTop : theme.spacing(2),\r\n        paddingBottom : theme.spacing(2)\r\n    },\r\n    closebutton : {\r\n        marginLeft : 'auto'\r\n    },\r\n    dialogTitle: {\r\n        textAlign: 'right',\r\n        borderBottom: '1px solid lightgray',\r\n    },\r\n    text: {\r\n        paddingLeft: theme.spacing(1),\r\n        paddingRight: theme.spacing(1)\r\n    }\r\n}))\r\n\r\nexport default function ChangeArticleDialog(props){\r\n    const {open} = props;\r\n    const classes = useStyle();\r\n\r\n    const handleClose = () => {\r\n        props.setOpen(false);\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n        props.handleSubmit();\r\n    }\r\n\r\n    const input =\r\n        <TextField \r\n            value={props.newGroupname}\r\n            onChange={e=>props.setNewGroupname(e.target.value)}\r\n            fullWidth \r\n            variant=\"outlined\"\r\n            margin=\"dense\"\r\n            label=\"新版块名称\"/>;\r\n    return (\r\n        <Dialog \r\n            className={classes.dialog}\r\n            aria-labelledby='simple-dialog-title' \r\n            maxWidth=\"sm\"\r\n            fullWidth\r\n            margin=\"dense\"\r\n            scroll=\"body\"\r\n            open={open}>\r\n            <DialogTitle className={classes.dialogTitle}>\r\n                <Grid container justify=\"space-between\">\r\n                    <Grid item>\r\n                            修改文章\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <IconButton size=\"small\" edge=\"start\" color='inherit' onClick={handleClose} aria-label=\"close\">\r\n                            <CloseIcon />\r\n                        </IconButton>\r\n                    </Grid>\r\n                </Grid>\r\n            </DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText className={classes.text}>\r\n                    是否提交本次修改的内容\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={handleClose} color=\"primary\">\r\n                    取消\r\n                </Button>\r\n                <Button onClick={handleSubmit} color=\"primary\">\r\n                    确定提交\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}","import { Snackbar, Button, Container, TextField, Typography, Backdrop } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport axios from 'axios';\r\nimport { useState, useEffect } from 'react';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport 'github-markdown-css';\r\nimport DocFab from './DocFab';\r\nimport DocPreviewTip from './DocPreviewTip';\r\nimport ChangeArticleDialog from './ChangeArticleDialog';\r\nimport Alert from '../component/Alert';\r\nimport { withRouter } from 'react-router';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n    marginTop: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n    w100: {\r\n        width: \"100%\",\r\n    },\r\n    container: {\r\n        backgroundColor: \"#FFF\",\r\n        paddingBottom: theme.spacing(2),\r\n        paddingTop: theme.spacing(1),\r\n        marginTop: theme.spacing(1),\r\n    },\r\n    previewTitle: {\r\n        marginTop: theme.spacing(2),\r\n        paddingBottom: theme.spacing(1)\r\n    },\r\n    snackbar: {\r\n        [theme.breakpoints.down('xs')]: {\r\n            bottom: 45\r\n        }\r\n    },\r\n    backdrop: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        color: '#fff',\r\n    },\r\n}))\r\n\r\nfunction ChangeArticle(props) {\r\n    const classes = useStyle();\r\n\r\n    const handleGetOldArticle = () => {\r\n        setIsloading(true);\r\n        axios.get(\"/api/article/getarticle/\" + props.match.params.contentid)\r\n            .then(res => {\r\n                const article = res.data.data;\r\n                setIsloading(false);\r\n                setContent(article.Content);\r\n                setTitle(article.Title);\r\n            })\r\n    }\r\n    useEffect(() => {\r\n        handleGetOldArticle();\r\n    }, [])\r\n\r\n    const [title, setTitle] = useState(\"\");\r\n    const [content, setContent] = useState(\"\");\r\n    const [display, setDisplay] = useState(\"write\");\r\n\r\n    const [dialogOpen, setDialogOpen] = useState(false);\r\n    const [snackbarOpen, setSnackbarOpen] = useState(false);\r\n\r\n    const [isloading, setIsloading] = useState(false);\r\n\r\n    const history = useHistory();\r\n\r\n    const handleSubmit = () => {\r\n        const data = {\r\n            Title: title,\r\n            Content: content,\r\n        };\r\n        console.log(data)\r\n        axios.post(`/api/article/updatearticle/${props.match.params.contentid}`, data)\r\n            .then(res => {\r\n                setDialogOpen(false);\r\n                alert(\"修改成功，即将前往目录\")\r\n                history.push('/article');\r\n            })\r\n            .catch(err=>console.log(err))\r\n    }\r\n    const handlePreview = (e) => {\r\n        if (title.length === 0 || content.length === 0)\r\n            setSnackbarOpen(true)\r\n        else\r\n            setDisplay('preview');\r\n    }\r\n    const handleCloseSnackbar = () => {\r\n        setSnackbarOpen(false);\r\n    }\r\n\r\n    if (display === 'write')\r\n        return (\r\n            <div>\r\n                <Backdrop className={classes.backdrop} open={isloading}>\r\n                    <CircularProgress color=\"inherit\" />\r\n                </Backdrop>\r\n                <Container>\r\n                    <Typography variant=\"h4\" className={classes.marginTop} >\r\n                        修改文章\r\n                    </Typography>\r\n                </Container>\r\n                <Container className={classes.container}>\r\n                    <form autoComplete='off'>\r\n                        <Grid container direction=\"row\" justify='flex-end'>\r\n                            <Grid item xs={12} className={classes.marginTop}>\r\n                                <TextField label='文章标题' value={title} onChange={(e) => setTitle(e.target.value)} variant=\"outlined\" className={classes.w100} />\r\n                            </Grid>\r\n                            <Grid item xs={12} className={classes.marginTop}>\r\n                                <TextField label='正文内容' value={content} onChange={(e) => setContent(e.target.value)} multiline variant='outlined'\r\n                                    className={classes.w100} rows={18} rowsMax={26} />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={2} className={classes.marginTop}>\r\n                                <Button variant=\"contained\" size=\"large\" onClick={handlePreview} color=\"primary\" className={classes.w100}>发布</Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </form>\r\n                </Container>\r\n                <Snackbar open={snackbarOpen} className={classes.snackbar} autoHideDuration={3000} onClose={handleCloseSnackbar}>\r\n                    <Alert onClose={handleCloseSnackbar} severity=\"error\">\r\n                        文章的标题和内容不能为空，请检查您的输入\r\n                </Alert>\r\n                </Snackbar>\r\n            </div>\r\n        )\r\n    if (display === 'preview')\r\n        return (\r\n            <div>\r\n                <Container className={classes.container}>\r\n                    <Typography variant=\"h4\">\r\n                        {title}\r\n                    </Typography>\r\n                    <DocPreviewTip />\r\n                    <Container className={classes.marginTop}>\r\n                        <ReactMarkdown className='markdown-body'>\r\n                            {content}\r\n                        </ReactMarkdown>\r\n                    </Container>\r\n                </Container>\r\n                <DocFab setDisplay={setDisplay} setDialogOpen={setDialogOpen} />\r\n                <ChangeArticleDialog handleSubmit={handleSubmit} open={dialogOpen} setOpen={setDialogOpen} />\r\n            </div>\r\n        )\r\n}\r\n\r\nexport default withRouter(ChangeArticle);","import './App.css';\r\nimport 'fontsource-roboto';\r\nimport React from 'react';\r\nimport { Route, Switch, Redirect,BrowserRouter } from 'react-router-dom';\r\nimport Index from './index/Index';\r\nimport Doc from './doc/Doc';\r\nimport initAuthToken from './login/initAuthToken';\r\nimport { handleGetUserinfo } from './action/handleGetUserinfo';\r\nimport MyDrawer from './Layout/MyDrawer';\r\nimport TimeFlow from './article/TimeFlow';\r\nimport ArticleRead from './article/ArticleRead';\r\nimport ArticleGroup from './article/ArticleGroup';\r\nimport ChangeArticle from './doc/ChangeArticle';\r\n\r\nexport const UserContext = React.createContext(undefined);\r\n\r\nfunction App() {\r\n  initAuthToken()\r\n\r\n  React.useEffect(()=>{\r\n    handleGetUserinfo();\r\n  },[])\r\n  \r\n  return (\r\n    <BrowserRouter>\r\n      <MyDrawer />\r\n      <Switch>\r\n        <Route path=\"/index\" component={Index} />\r\n        <Route path='/doc/:contentid' component={ChangeArticle} />\r\n        <Route path='/doc' component={Doc} />\r\n        <Route path='/article/read/:contentid' component={ArticleRead} />\r\n        <Route path='/article/:groupid' component={TimeFlow} />\r\n        <Route path='/articlegroup' component={ArticleGroup} />\r\n        <Redirect from=\"/\" to=\"/index\" />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","import { store } from '../redux/store'\r\nimport { setUserinfo } from '../redux/useSlice';\r\nimport axios from 'axios';\r\nimport initAuthToken from '../login/initAuthToken';\r\n\r\nexport const handleGetUserinfo = () => {\r\n    axios.get('/api/user/getuserinfo')\r\n        .then(res => {\r\n            if (res.status === 200) {\r\n                localStorage.setItem(\"token\", res.data.userToken)\r\n                initAuthToken();\r\n                store.dispatch(setUserinfo({\r\n                    login : true,\r\n                    userid: res.data.userinfo.Userid,\r\n                    username: res.data.userinfo.Username || \"匿名用户\",\r\n                    usertype: res.data.userinfo.Usertype,\r\n                    sex: res.data.userinfo.Sex,\r\n                    birthday: res.data.userinfo.Birthday\r\n                }));\r\n            } else if (res.status === 202) {\r\n                store.dispatch(setUserinfo({\r\n                    login : false\r\n                }));\r\n            }\r\n        })\r\n        .catch((err) => {\r\n            store.dispatch(setUserinfo({\r\n                login : false\r\n            }));\r\n        })\r\n        ;\r\n}","import MuiAlert from '@material-ui/lab/Alert';\r\n\r\nexport default function Alert(props){\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />\r\n}","import setAuthToken from './setAuthToken'\r\n\r\nexport default function initAuthToken() {\r\n    setAuthToken(localStorage.getItem(\"token\"));\r\n    return localStorage.getItem(\"token\");\r\n}","import axios from 'axios'\r\n\r\nconst setAuthToken = token => {\r\n    if( token ){\r\n        axios.defaults.headers.common[\"Authorization\"] = token;\r\n    } else {\r\n        delete axios.defaults.headers.common[\"Authorizaiton\"];\r\n    }\r\n}\r\n\r\nexport default setAuthToken;","import {createSlice } from '@reduxjs/toolkit'\r\n\r\nexport const userSlice = createSlice({\r\n    name : 'userinfo',\r\n    initialState : {\r\n        userinfo : 0\r\n    },\r\n    reducers : {\r\n        setUserinfo : (state,action) => {\r\n            state.userinfo = action.payload;\r\n        }\r\n    }\r\n})\r\n\r\nexport const { setUserinfo } = userSlice.actions;\r\n\r\n"],"sourceRoot":""}